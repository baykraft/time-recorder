{"version":3,"sources":["images/slack_icon.svg","images/pdf.svg","routes/Main.js","stores/UserStore.js","PrivateRoute.js","components/UserAvatar.js","components/SideMenu.js","components/MonthOptions.js","routes/TimeRecord.js","routes/BreakTime.js","routes/FixedTime.js","routes/OAuth.js","routes/Expense.js","routes/Documents.js","serviceWorker.js","index.js","App.js"],"names":["module","exports","useStyles","makeStyles","theme","root","flexGrow","fontWeight","menuButton","marginRight","spacing","title","slack","width","height","container","marginTop","marginBottom","paddingTop","paddingBottom","paddingLeft","paddingRight","processor","remark","use","reactRenderer","Main","classes","history","useReactRouter","useEffect","code","qs","parse","window","location","search","undefined","push","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Typography","variant","Button","onClick","process","src","alt","Container","maxWidth","component","Paper","processSync","contents","userStore","authenticated","accessToken","user","this","bool","emit","token","EventEmitter","PrivateRoute","children","rest","useState","isAuthenticated","render","to","pathname","state","from","userAvatar","UserAvatar","getUser","anchorEl","setAnchorEl","event","currentTarget","Avatar","Popper","open","Boolean","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","key","preventDefault","MenuItem","setUser","setAccessToken","setAuthenticated","drawerList","nested","SideMenu","drawerOpen","setDrawerOpen","adminOpen","setAdminOpen","Drawer","onClose","List","ListItem","button","Link","ListItemIcon","ListItemText","primary","Divider","Fragment","Collapse","in","timeout","unmountOnExit","disablePadding","MonthOptions","options","month","value","table","whiteSpace","summaryContainer","tableToolbar","marginLeft","holidayCell","customerField","dateField","dayOfWeek","kindMap","TimeRecord","Date","getFullYear","year","setYear","getMonth","setMonth","rows","setRows","severity","setSeverity","message","setMessage","snackbarOpen","setSnackbarOpen","oldRows","setOldRows","detailDialogOpen","setDetailDialogOpen","detailRow","setDetailRow","summaryRows","setSummaryRows","loadTimeRecords","useCallback","axios","get","params","getAccessToken","then","response","records","data","forEach","record","edit","id","date","day","holiday","customer","kind","start_time","end_time","total_time","over_time","midnight_time","deduction_time","note","catch","error","loadSummary","fixed_time","actual_time","statutory_time","statutory_midnight_time","recordToRow","row","backupRow","hasOwnProperty","String","Object","assign","KindOptions","entries","handleCloseSnackbar","reason","validationTime","start","end","now","starts","split","ends","getDate","Number","TimeItem","props","ListItemAvatar","secondary","CssBaseline","Snackbar","autoHideDuration","Alert","Dialog","fullWidth","DialogTitle","DialogContent","DialogActions","TextField","required","label","margin","defaultValue","onChange","target","FormControl","InputLabel","htmlFor","NativeSelect","inputProps","Tooltip","responseType","blob","Blob","type","saveAs","TableContainer","Table","size","TableHead","TableRow","TableCell","align","TableBody","map","scope","style","textAlign","autoFocus","slice","handleChangeCustomer","handleChangeKind","handleChangeStartTime","handleChangeEndTime","handleChangeNote","regex","RegExp","test","rowYear","rowMonth","rowDate","post","put","handleClickDone","oldRow","handleClickCancel","handleClickEdit","delete","handleClickDelete","handleClickDetails","dialogTitle","BreakTime","selectedYear","setSelectedYear","selectedMonth","setSelectedMonth","addModalOpen","setAddModelOpen","setCustomer","startTime","setStartTime","endTime","setEndTime","loadBreakTimes","Grid","item","xs","disabled","from_year","from_month","to_year","to_month","indexOf","FixedTime","loadFixedTimes","OAuth","on","client_id","client_secret","redirect_uri","userId","removeAllListeners","ReactLink","tableContainer","Expense","addTransportOpen","setAddTransportOpen","setDate","journal","setJournal","breakdown","setBreakdown","billTo","setBillTo","cost","setCost","transport","setTransport","departure","setDeparture","arrival","setArrival","work","handleChangeCost","icon","Documents","fileName","pdf","hostname","match","ReactDOM","exact","path","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ebf2b18f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/slack_icon.be396144.svg\";","module.exports = __webpack_public_path__ + \"static/media/pdf.7d7b22ee.svg\";","import React, {useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport slack from '../images/slack_icon.svg';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport remark from 'remark';\nimport reactRenderer from 'remark-react';\nimport qs from \"query-string\";\nimport useReactRouter from \"use-react-router\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    menuButton: {\n        marginRight: theme.spacing(2)\n    },\n    title: {\n        flexGrow: 1\n    },\n    slack: {\n        width: 32,\n        height: 32,\n        marginRight: theme.spacing(2)\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(5),\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(3),\n        paddingLeft: theme.spacing(10),\n        paddingRight: theme.spacing(10)\n    }\n}));\n\nconst processor = remark().use(reactRenderer);\n\nfunction Main() {\n    const classes = useStyles();\n    const { history } = useReactRouter();\n\n    useEffect(() => {\n        const code = qs.parse(window.location.search).code;\n        if (code !== undefined) {\n            history.push(`/oauth?code=${code}`);\n        }\n    }, [history]);\n\n    /**\n     * Slack\n     */\n    let handleLogin = () => {\n        const clientId = process.env.REACT_APP_OAUTH_CLIENT_ID;\n        const redirectUri = process.env.REACT_APP_OAUTH_REDIRECT;\n        window.location = `https://slack.com/oauth/authorize?client_id=${clientId}&scope=users:read&redirect_uri=${redirectUri}`;\n    };\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"sticky\">\n                <Toolbar>\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        \n                    </Typography>\n                    <Button color=\"inherit\" onClick={handleLogin}>\n                        <img src={slack} className={classes.slack} alt=\"slack\" />\n                        Login with Slack\n                    </Button>\n                </Toolbar>\n            </AppBar>\n\n            <Container maxWidth=\"md\" className={classes.container} component={Paper}>\n                <div>\n                    {processor.processSync(\n                        '## Slack\\n' +\n                        '### \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* hi\\n' +\n                        '* hello\\n' +\n                        '* morning\\n' +\n                        '* \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '*  2020/1/29 9:00\\n' +\n                        '*  1/29 9:00\\n' +\n                        '*  1/29\\n' +\n                        '*  9:00\\n' +\n                        '* \\n' +\n                        '\\n' +\n                        '### \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* bye\\n' +\n                        '* night\\n' +\n                        '* cu\\n' +\n                        '* c u\\n' +\n                        '* cyou\\n' +\n                        '* c you\\n' +\n                        '* seeu\\n' +\n                        '* see u\\n' +\n                        '* seeyou\\n' +\n                        '* see you\\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '*  2020/1/29 17:30\\n' +\n                        '*  1/29 17:30\\n' +\n                        '*  1/29\\n' +\n                        '*  17:30\\n' +\n                        '* \\n' +\n                        '\\n' +\n                        '### \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '' +\n                        '\\n' +\n                        '*  2020/1/29\\n' +\n                        '*  1/29\\n' +\n                        '* \\n' +\n                        '\\n' +\n                        '\\n' +\n                        '(AM)(PM)\\n' +\n                        '\\n' +\n                        '* \\n' +\n                        '* \\n' +\n                        '* am\\n' +\n                        '* pm\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '\\n' +\n                        '*  1/30 \"\"\\n' +\n                        '*  \"\"'\n                    ).contents}\n                </div>\n            </Container>\n        </div>\n    );\n}\n\nexport default Main\n","import { EventEmitter } from 'events';\n\nclass UserStore extends EventEmitter {\n    constructor() {\n        super();\n        this.authenticated = false;\n        this.accessToken = '';\n        this.user = {};\n    }\n    isAuthenticated() {\n        return this.authenticated;\n    }\n    setAuthenticated(bool) {\n        this.authenticated = bool;\n        this.emit('change');\n    }\n    getAccessToken() {\n        return this.accessToken;\n    }\n    setAccessToken(token) {\n        this.accessToken = token;\n        this.emit('change');\n    }\n    getUser() {\n        return this.user;\n    }\n    setUser(user) {\n        this.user = user;\n        this.emit('change');\n    }\n}\n\nconst userStore = new UserStore();\n\nexport default userStore;\n","import React, { useState } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport userStore from './stores/UserStore';\n\nexport default function PrivateRoute({ children, ...rest }) {\n    const [authenticated] = useState(userStore.isAuthenticated());\n    return (\n        <Route {...rest} render={({ location }) =>\n            authenticated ? (children) : (<Redirect to={{ pathname: \"/\", state: { from: location }}}/>)\n        }/>\n    );\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport userStore from '../stores/UserStore';\nimport useReactRouter from 'use-react-router';\n\n\nconst useStyles = makeStyles(theme => ({\n    userAvatar: {\n        marginRight: theme.spacing(2)\n    }\n}));\n\nexport default function UserAvatar() {\n    const classes = useStyles();\n    const [user] = useState(userStore.getUser());\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { history } = useReactRouter();\n\n    /**\n     * \n     *\n     * @param event \n     */\n    const handleClickUser = (event) => {\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n    };\n\n    /**\n     * \n     *\n     * @param event \n     */\n    const handleKeyDownUserMenu = (event) => {\n        if ('Tab' === event.key) {\n            event.preventDefault();\n            setAnchorEl(null);\n        }\n    };\n\n    /**\n     * \n     */\n    const handleClickAway = () => {\n        setAnchorEl(null);\n    };\n\n    /**\n     * \n     */\n    const handleSelectLogout = () => {\n        userStore.setUser(null);\n        userStore.setAccessToken(null);\n        userStore.setAuthenticated(false);\n        history.push('/');\n    };\n\n    return (\n        <div>\n            <Button color=\"inherit\" onClick={handleClickUser}>\n                <Avatar alt=\"avatar\" src={user['profile']['image_48']} className={classes.userAvatar} />\n                {user['profile']['real_name']}\n            </Button>\n            <Popper open={Boolean(anchorEl)} anchorEl={anchorEl}>\n                <Paper>\n                    <ClickAwayListener onClickAway={handleClickAway}>\n                        <MenuList autoFocusItem={Boolean(anchorEl)} onKeyDown={handleKeyDownUserMenu}>\n                            <MenuItem onClick={handleSelectLogout}></MenuItem>\n                        </MenuList>\n                    </ClickAwayListener>\n                </Paper>\n            </Popper>\n        </div>\n    );\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport {Link} from 'react-router-dom';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport TimelapseIcon from '@material-ui/icons/Timelapse';\nimport TimerOffIcon from '@material-ui/icons/TimerOff';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport userStore from '../stores/UserStore';\nimport Collapse from '@material-ui/core/Collapse';\nimport BallotIcon from '@material-ui/icons/Ballot';\nimport PeopleIcon from '@material-ui/icons/People';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\n\n\nconst useStyles = makeStyles(theme => ({\n    menuButton: {\n        marginRight: theme.spacing(2)\n    },\n    drawerList: {\n        width: 250\n    },\n    nested: {\n        paddingLeft: theme.spacing(4),\n    }\n}));\n\nexport default function SideMenu() {\n    const classes = useStyles();\n    const [drawerOpen, setDrawerOpen] = useState(false);\n    const [user] = useState(userStore.getUser());\n    const [adminOpen, setAdminOpen] = useState(false);\n\n    const AdminMenu = () => {\n        if (user['is_admin']) {\n            return (\n                <React.Fragment>\n                    <Divider />\n                    <ListItem button onClick={() => setAdminOpen(!adminOpen)}>\n                        <ListItemIcon>\n                            <BallotIcon/>\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                        {adminOpen ? <ExpandLess /> : <ExpandMore />}\n                    </ListItem>\n                    <Collapse in={adminOpen} timeout=\"auto\" unmountOnExit>\n                        <List component=\"div\" disablePadding>\n                            <ListItem button className={classes.nested}>\n                                <ListItemIcon>\n                                    <PeopleIcon/>\n                                </ListItemIcon>\n                                <ListItemText primary=\"\" />\n                            </ListItem>\n                        </List>\n                    </Collapse>\n                </React.Fragment>\n            );\n        }\n        else {\n            return (\n                <React.Fragment>\n                </React.Fragment>\n            )\n        }\n    };\n\n    return (\n        <div>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={() => setDrawerOpen(true)}>\n                <MenuIcon />\n            </IconButton>\n            <Drawer open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n                <div className={classes.drawerList}>\n                    <List component=\"nav\">\n                        <ListItem button component={Link} to=\"/timerecord\">\n                            <ListItemIcon><AccessTimeIcon/></ListItemIcon>\n                            <ListItemText primary=\"\"/>\n                        </ListItem>\n                        <ListItem button component={Link} to=\"/expense\">\n                            <ListItemIcon><AttachMoneyIcon/></ListItemIcon>\n                            <ListItemText primary=\"\"/>\n                        </ListItem>\n                        <Divider />\n                        <ListItem button component={Link} to=\"/fixedtime\">\n                            <ListItemIcon><TimelapseIcon/></ListItemIcon>\n                            <ListItemText primary=\"\"/>\n                        </ListItem>\n                        <ListItem button component={Link} to=\"/breaktime\">\n                            <ListItemIcon><TimerOffIcon/></ListItemIcon>\n                            <ListItemText primary=\"\"/>\n                        </ListItem>\n                        <Divider />\n                        <ListItem button component={Link} to=\"/documents\">\n                            <ListItemIcon><AttachFileIcon/></ListItemIcon>\n                            <ListItemText primary=\"\"/>\n                        </ListItem>\n                        <AdminMenu/>\n                    </List>\n                </div>\n            </Drawer>\n        </div>\n    );\n}\n","import React from 'react';\n\nexport default function MonthOptions() {\n    const options = [];\n    for (let month = 1; month <= 12; month++) {\n        options.push(<option key={month} value={month}>{month}</option>);\n    }\n    return options;\n}\n","import React, {useState, useEffect, useCallback} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport userStore from '../stores/UserStore';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport axios from 'axios';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DoneIcon from '@material-ui/icons/Done';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport Alert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport { saveAs } from 'file-saver';\nimport UserAvatar from '../components/UserAvatar';\nimport SideMenu from '../components/SideMenu';\nimport DetailsIcon from '@material-ui/icons/Details';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from \"@material-ui/core/Button\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonthOptions from '../components/MonthOptions';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    title: {\n        flexGrow: 1\n    },\n    table: {\n        '& .MuiTableCell-root': {\n            whiteSpace: 'nowrap'\n        },\n        '& .MuiTableHead-root': {\n            '& .MuiTableRow-root': {\n                '& .MuiTableCell-root': {\n                    fontWeight: 600\n                }\n            }\n        }\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(5),\n    },\n    summaryContainer: {\n        marginBottom: theme.spacing(3)\n    },\n    tableToolbar: {\n        '& .MuiFormControl-root': {\n            marginRight: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            width: 100\n        },\n        marginBottom: theme.spacing(1)\n    },\n    holidayCell: {\n        color: '#f44336',\n    },\n    customerField: {\n        width: 50\n    },\n    dateField: {\n        width:50\n    }\n}));\n\nconst dayOfWeek = ['', '', '', '', '', '', ''];\nconst kindMap = {\n    '0': '',\n    '10': '', '11': '(AM)', '12': '(PM)',\n    '20': '', '21': '(AM)', '22': '(PM)',\n    '30': '', '31': '(AM)', '32': '(PM)',\n    '40': '', '41': '(AM)', '42': '(PM)',\n    '50': ''};\n\nexport default function TimeRecord() {\n    const classes = useStyles();\n    const [year, setYear] = useState(new Date().getFullYear());\n    const [month, setMonth] = useState(new Date().getMonth() + 1);\n    const [rows, setRows] = useState([]);\n    const [severity, setSeverity] = useState('error');\n    const [message, setMessage] = useState('');\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\n    const [oldRows, setOldRows] = useState({});\n    const [detailDialogOpen, setDetailDialogOpen] = useState(false);\n    const [detailRow, setDetailRow] = useState({});\n    const [summaryRows, setSummaryRows] = useState([]);\n\n    /**\n     * \n     */\n    const loadTimeRecords = useCallback(() => {\n        axios.get(`${process.env.REACT_APP_REST_URI}/time_records/${year}/${month}`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const records = response.data['records'];\n            const rows = [];\n            records.forEach((record) => {\n                rows.push({\n                    edit: false,\n                    id: record['time_record_id'],\n                    year: record['year'],\n                    month: record['month'],\n                    date: record['date'],\n                    day: dayOfWeek[record['day']],\n                    holiday: record['holiday'] ? 'H' : '',\n                    customer: record['customer'],\n                    kind: record['kind'],\n                    start_time: record['start_time'],\n                    end_time: record['end_time'],\n                    total_time: record['total_time'],\n                    over_time: record['over_time'],\n                    midnight_time: record['midnight_time'],\n                    deduction_time: record['deduction_time'],\n                    note: record['note']});\n            });\n            setRows(rows);\n            setOldRows({});\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    }, [year, month]);\n\n    /**\n     * \n     */\n    const loadSummary = useCallback(() => {\n        axios.get(`${process.env.REACT_APP_REST_URI}/time_records/${year}/${month}/summary`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const records = response.data['records'];\n            const rows = [];\n            records.forEach((record) => {\n                rows.push({\n                    customer: record['customer'],\n                    fixed_time: record['fixed_time'],\n                    actual_time: record['actual_time'],\n                    over_time: record['over_time'],\n                    midnight_time: record['midnight_time'],\n                    statutory_time: record['statutory_time'],\n                    statutory_midnight_time: record['statutory_midnight_time'],\n                    deduction_time: record['deduction_time']\n                });\n            });\n            setSummaryRows(rows);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    }, [year, month]);\n\n    /**\n     * \n     */\n    useEffect(() => {\n        if (year > 0) {\n            loadTimeRecords();\n            loadSummary();\n        }\n    }, [year, month, loadTimeRecords, loadSummary]);\n\n    /**\n     * \n     */\n    const handleClickSearch = () => {\n        // \n        if (!year) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        loadTimeRecords();\n        loadSummary();\n    };\n\n    /**\n     * \n     */\n    const handleClickDownload = () => {\n        // \n        if (!year) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.get(`${process.env.REACT_APP_REST_URI}/time_records/${year}/${month}/download`, {\n            params: {\n                token: userStore.getAccessToken()\n            },\n            responseType: 'blob'\n        }).then((response) => {\n            const blob = new Blob([response.data], {\n                type: response.data.type\n            });\n            saveAs(blob, `${year}${month}.xlsx`);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickDone = (row) => {\n        const regex = RegExp(/\\d{1,2}:\\d{1,2}/);\n        if (row.start_time && !regex.test(row.start_time)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (row.end_time && !regex.test(row.end_time)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (row.start_time && row.end_time && !validationTime(row.start_time, row.end_time)) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        const rowYear = row.year;\n        const rowMonth = row.month;\n        const rowDate = row.date;\n        if (0 === row.id) {\n            axios.post(`${process.env.REACT_APP_REST_URI}/time_records/${rowYear}/${rowMonth}/${rowDate}`, {\n                customer: row.customer,\n                kind: row.kind,\n                start_time: row.start_time,\n                end_time: row.end_time,\n                note: row.note\n            }, {\n                params: {\n                    token: userStore.getAccessToken()\n                }\n            }).then((response) => {\n                recordToRow(response.data['record'], row);\n                setRows(rows.slice());\n                setSeverity('success');\n                setMessage('');\n                setSnackbarOpen(true);\n                loadSummary();\n            }).catch((error) => {\n                setSeverity('error');\n                setMessage(error['message']);\n                setSnackbarOpen(true);\n            });\n\n        }\n        else {\n            axios.put(`${process.env.REACT_APP_REST_URI}/time_records/${rowYear}/${rowMonth}/${rowDate}`, {\n                customer: row.customer,\n                kind: row.kind,\n                start_time: row.start_time,\n                end_time: row.end_time,\n                note: row.note\n            }, {\n                params: {\n                    token: userStore.getAccessToken()\n                }\n            }).then((response) => {\n                recordToRow(response.data['record'], row);\n                setRows(rows.slice());\n                setSeverity('success');\n                setMessage('');\n                setSnackbarOpen(true);\n                loadSummary();\n            }).catch((error) => {\n                setSeverity('error');\n                setMessage(error['message']);\n                setSnackbarOpen(true);\n            });\n        }\n    };\n\n    /**\n     * \n     *\n     * @param record \n     * @param row \n     */\n    const recordToRow = (record, row) => {\n        row.edit = false;\n        row.id = record['time_record_id'];\n        row.customer = record['customer'];\n        row.kind = record['kind'];\n        row.start_time = record['start_time'];\n        row.end_time = record['end_time'];\n        row.total_time = record['total_time'];\n        row.note = record['note'];\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickEdit = (row) => {\n        delete oldRows[String(row.date)];\n        setOldRows(oldRows);\n        row.edit = true;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickCancel = (row) => {\n        const oldRow = oldRows[String(row.date)];\n        if (oldRow) {\n            row.customer = oldRow.customer;\n            row.kind = oldRow.kind;\n            row.start_time = oldRow.start_time;\n            row.end_time = oldRow.end_time;\n            row.total_time = oldRow.total_time;\n            row.note = oldRow.note;\n            delete oldRows[String(row.date)];\n            setOldRows(oldRows);\n        }\n        row.edit = false;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickDelete = (row) => {\n        const rowYear = row.year;\n        const rowMonth = row.month;\n        const rowDate = row.date;\n        axios.delete(`${process.env.REACT_APP_REST_URI}/time_records/${rowYear}/${rowMonth}/${rowDate}`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then(() => {\n            row.id = 0;\n            row.customer = null;\n            row.kind = 0;\n            row.start_time = null;\n            row.end_time = null;\n            row.total_time = null;\n            row.note = null;\n            setRows(rows.slice());\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n            loadSummary();\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const backupRow = (row) => {\n        if (!oldRows.hasOwnProperty(String(row.date))) {\n            oldRows[String(row.date)] = Object.assign({}, row);\n        }\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param customer \n     */\n    const handleChangeCustomer = (row, customer) => {\n        backupRow(row);\n        row.customer = customer;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param kind \n     */\n    const handleChangeKind = (row, kind) => {\n        backupRow(row);\n        row.kind = kind;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param start_time \n     */\n    const handleChangeStartTime = (row, start_time) => {\n        backupRow(row);\n        row.start_time = start_time;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param end_time \n     */\n    const handleChangeEndTime = (row, end_time) => {\n        backupRow(row);\n        row.end_time = end_time;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param note \n     */\n    const handleChangeNote = (row, note) => {\n        backupRow(row);\n        row.note = note;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @returns {[]} \n     * @constructor\n     */\n    const KindOptions = () => {\n        const options = [];\n        for (let [key, value] of Object.entries(kindMap)) {\n            options.push(<option key={key} value={key}>{value}</option>);\n        }\n        return options;\n    };\n\n    /**\n     * \n     *\n     * @param event \n     * @param reason \n     */\n    const handleCloseSnackbar = (event, reason) => {\n        if ('clickaway' === reason) {\n            return;\n        }\n        setSnackbarOpen(false);\n    };\n\n    /**\n     * \n     *\n     * @param start \n     * @param end \n     * @returns {boolean} true: OK, false: NG\n     */\n    const validationTime = (start, end) => {\n        const now = new Date();\n        const starts = start.split(':');\n        const ends = end.split(':');\n        const sdt = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Number(starts[0]), Number(starts[1]));\n        const edt = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Number(ends[0]), Number(ends[1]));\n        return sdt < edt;\n    };\n\n    /**\n     * \n     */\n    const handleClickDetails = (row) => {\n        setDetailDialogOpen(true);\n        setDetailRow(row);\n    };\n\n    /**\n     * \n     *\n     * @param props \n     * @returns {*}\n     * @constructor\n     */\n    const TimeItem = (props) => {\n        return (\n            <ListItem>\n                <ListItemAvatar>\n                    <Avatar>\n                        <AccessTimeIcon />\n                    </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={props.primary} secondary={props.secondary} />\n            </ListItem>\n        );\n    };\n\n    return (\n        <form className={classes.root}>\n            <CssBaseline />\n            \n            <AppBar position=\"sticky\">\n                <Toolbar>\n                    <SideMenu/>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        \n                    </Typography>\n                    <UserAvatar/>\n                </Toolbar>\n            </AppBar>\n\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleCloseSnackbar}>\n                <Alert severity={severity} variant=\"filled\" onClose={handleCloseSnackbar}>{message}</Alert>\n            </Snackbar>\n\n            <Dialog open={detailDialogOpen} onClose={() => setDetailDialogOpen(false)} fullWidth={true} maxWidth=\"xs\">\n                <DialogTitle>{detailRow.year}/{detailRow.month}/{detailRow.date}</DialogTitle>\n                <DialogContent>\n                    <List>\n                        <TimeItem primary=\"\" secondary={detailRow.total_time} />\n                        <Divider variant=\"inset\" component=\"li\" />\n                        <TimeItem primary=\"\" secondary={detailRow.over_time} />\n                        <Divider variant=\"inset\" component=\"li\" />\n                        <TimeItem primary=\"\" secondary={detailRow.midnight_time} />\n                        <Divider variant=\"inset\" component=\"li\" />\n                        <TimeItem primary=\"\" secondary={detailRow.deduction_time} />\n                    </List>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setDetailDialogOpen(false)} color=\"primary\">\n                        \n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Container maxWidth=\"lg\" className={classes.container}>\n                <Toolbar className={classes.tableToolbar}>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        \n                    </Typography>\n                    <TextField required={true} label=\"\" margin=\"normal\" defaultValue={year} onChange={(event) => setYear(event.target.value)} />\n                    <FormControl required={true} margin=\"normal\">\n                        <InputLabel htmlFor=\"select-month\"></InputLabel>\n                        <NativeSelect value={month} inputProps={{id: 'select-month'}}\n                                      onChange={(event) => setMonth(event.target.value)}>\n                            <MonthOptions />\n                        </NativeSelect>\n                    </FormControl>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickSearch}>\n                            <SearchIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickDownload}>\n                            <GetAppIcon />\n                        </IconButton>\n                    </Tooltip>\n                </Toolbar>\n                <TableContainer component={Paper} className={classes.summaryContainer}>\n                    <Table size=\"small\" className={classes.table}>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {summaryRows.map(row => (\n                                <TableRow key={row.customer}>\n                                    <TableCell align=\"center\">{row.customer}</TableCell>\n                                    <TableCell align=\"center\">{row.fixed_time}</TableCell>\n                                    <TableCell align=\"center\">{row.actual_time}</TableCell>\n                                    <TableCell align=\"center\">{row.over_time}</TableCell>\n                                    <TableCell align=\"center\">{row.midnight_time}</TableCell>\n                                    <TableCell align=\"center\">{row.statutory_time}</TableCell>\n                                    <TableCell align=\"center\">{row.statutory_midnight_time}</TableCell>\n                                    <TableCell align=\"center\">{row.deduction_time}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TableContainer component={Paper}>\n                    <Table className={classes.table} aria-label=\"timerecords\" size=\"small\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\" scope=\"row\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {rows.map(row => (\n                                <TableRow key={row.date}>\n                                    <TableCell align=\"center\">{row.date}</TableCell>\n                                    <TableCell align=\"center\">{row.day}</TableCell>\n                                    <TableCell align=\"center\" className={classes.holidayCell}>{row.holiday}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.customer} className={classes.customerField}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       autoFocus={true}\n                                                       onChange={(event) => handleChangeCustomer(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.customer}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <NativeSelect value={row.kind}\n                                                          onChange={(event) => handleChangeKind(row, event.target.value)}>\n                                                <KindOptions />\n                                            </NativeSelect>\n                                        ) : (\n                                            <span>{kindMap[row.kind]}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.start_time} className={classes.dateField}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       onChange={(event) => handleChangeStartTime(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.start_time}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.end_time} className={classes.dateField}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       onChange={(event) => handleChangeEndTime(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.end_time}</span>\n                                        )}\n                                    </TableCell>\n                                    {row.edit ? (\n                                        <TableCell align=\"center\">\n                                            <TextField defaultValue={row.note}\n                                                       onChange={(event) => handleChangeNote(row, event.target.value)} />\n                                        </TableCell>\n                                    ) : (\n                                        <TableCell><span>{row.note}</span></TableCell>\n                                    )}\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <div>\n                                                <IconButton aria-label=\"done\" onClick={() => handleClickDone(row)}>\n                                                    <DoneIcon />\n                                                </IconButton>\n                                                <IconButton aria-label=\"cancel\" onClick={() => handleClickCancel(row)}>\n                                                    <CancelIcon />\n                                                </IconButton>\n                                            </div>\n                                        ) : (\n                                            <div>\n                                                <IconButton aria-label=\"edit\" onClick={() => handleClickEdit(row)}>\n                                                    <EditIcon />\n                                                </IconButton>\n                                                <IconButton aria-label=\"delete\" onClick={() => handleClickDelete(row)}>\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                                <Tooltip title=\"\">\n                                                    <IconButton aria-label=\"details\" onClick={() => handleClickDetails(row)}>\n                                                        <DetailsIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </div>\n                                        )}\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Container>\n        </form>\n    );\n}\n","import React, {useState, useEffect, useCallback} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport userStore from '../stores/UserStore';\nimport Container from '@material-ui/core/Container';\nimport AddIcon from '@material-ui/icons/Add';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TableBody from '@material-ui/core/TableBody';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport axios from 'axios';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Alert from '@material-ui/lab/Alert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport UserAvatar from '../components/UserAvatar';\nimport SideMenu from '../components/SideMenu';\nimport MonthOptions from '../components/MonthOptions';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    title: {\n        flexGrow: 1\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    tableToolbar: {\n        '& .MuiFormControl-root': {\n            marginRight: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            width: 100\n        },\n        marginBottom: theme.spacing(1)\n    },\n    table: {\n        '& .MuiTableCell-root': {\n            whiteSpace: 'nowrap',\n            '& .MuiTextField-root': {\n                width: 100\n            }\n        },\n        '& .MuiTableHead-root': {\n            '& .MuiTableRow-root': {\n                '& .MuiTableCell-root': {\n                    fontWeight: 600\n                }\n            }\n        }\n    },\n    dialogTitle: {\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    }\n}));\n\nexport default function BreakTime() {\n    const classes = useStyles();\n    const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n    const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\n    const [rows, setRows] = useState([]);\n    const [oldRows, setOldRows] = useState({});\n    const [addModalOpen, setAddModelOpen] = useState(false);\n    const [year, setYear] = useState(selectedYear);\n    const [month, setMonth] = useState(selectedMonth);\n    const [customer, setCustomer] = useState('');\n    const [startTime, setStartTime] = useState('');\n    const [endTime, setEndTime] = useState('');\n    const [severity, setSeverity] = useState('error');\n    const [message, setMessage] = useState('');\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n    /**\n     * \n     */\n    const loadBreakTimes = useCallback(() => {\n        axios.get(`${process.env.REACT_APP_REST_URI}/break_times/${selectedYear}/${selectedMonth}`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const records = response.data['records'];\n            const rows = records.map(record => {\n                return {\n                    edit: false,\n                    id: record['break_time_id'],\n                    year: record['year'],\n                    month: record['month'],\n                    customer: record['customer'],\n                    start_time: record['start_time'],\n                    end_time: record['end_time']\n                };\n            });\n            setRows(rows);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    }, [selectedYear, selectedMonth]);\n\n    /**\n     * \n     */\n    useEffect(() => {\n        if (selectedYear > 0) {\n            loadBreakTimes();\n        }\n    }, [selectedYear, selectedMonth, loadBreakTimes]);\n\n    /**\n     * \n     */\n    const handleClickSearch = () => {\n        // \n        if (!selectedYear) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        loadBreakTimes();\n    };\n\n    /**\n     * \n     */\n    const handleClickAdd = () => {\n        setYear(selectedYear);\n        setMonth(selectedMonth);\n        setCustomer('');\n        setStartTime('');\n        setEndTime('');\n        setAddModelOpen(true);\n    };\n\n    /**\n     * \n     */\n    const handleClickCopy = () => {\n        // \n        if (!selectedYear) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.post(`${process.env.REACT_APP_REST_URI}/break_times/copy`, {\n            from_year: 1 === Number(selectedMonth) ? Number(selectedYear) - 1 : Number(selectedYear),\n            from_month: 1=== Number(selectedMonth) ? 12 : Number(selectedMonth) - 1,\n            to_year: Number(selectedYear),\n            to_month: Number(selectedMonth)\n        },{\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const records = response.data['records'];\n            const rows = records.map(record => {\n                return {\n                    edit: false,\n                    id: record['break_time_id'],\n                    year: record['year'],\n                    month: record['month'],\n                    customer: record['customer'],\n                    start_time: record['start_time'],\n                    end_time: record['end_time']\n                };\n            });\n            setRows(rows);\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     */\n    const handleClickDialogCancel = () => {\n        setAddModelOpen(false);\n    };\n\n    /**\n     * \n     */\n    const handleClickDialogAdd = () => {\n        if (!customer) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!startTime) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!endTime) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        const regex = RegExp(/\\d{1,2}:\\d{1,2}/);\n        if (!regex.test(startTime)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!regex.test(endTime)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!validationTime(startTime, endTime)) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.post(`${process.env.REACT_APP_REST_URI}/break_times`, {\n            year: year,\n            month: month,\n            customer: customer,\n            start_time: startTime,\n            end_time: endTime\n        }, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const record = response.data['record'];\n            rows.push({\n                edit: false,\n                id: record['break_time_id'],\n                year: record['year'],\n                month: record['month'],\n                customer: record['customer'],\n                start_time: record['start_time'],\n                end_time: record['end_time']\n            });\n            setRows(rows.slice());\n            setAddModelOpen(false);\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickDone = (row) => {\n        if (!row.customer) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!row.start_time) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!row.end_time) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        const regex = RegExp(/\\d{1,2}:\\d{1,2}/);\n        if (!regex.test(row.start_time)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!regex.test(row.end_time)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!validationTime(row.start_time, row.end_time)) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.put(`${process.env.REACT_APP_REST_URI}/break_times/${row.id}`, {\n            year: row.year,\n            month: row.month,\n            customer: row.customer,\n            start_time: row.start_time,\n            end_time: row.end_time\n        }, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const record = response.data['record'];\n            row.edit = false;\n            row.year = record['year'];\n            row.month = record['month'];\n            row.customer = record['customer'];\n            row.start_time = record['start_time'];\n            row.end_time = record['end_time'];\n            setRows(rows.slice());\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickCancel = (row) => {\n        const oldRow = oldRows[String(row.id)];\n        if (oldRow) {\n            row.customer = oldRow.customer;\n            row.start_time = oldRow.start_time;\n            row.end_time = oldRow.end_time;\n            delete oldRows[String(row.id)];\n            setOldRows(oldRows);\n        }\n        row.edit = false;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickEdit = (row) => {\n        delete oldRows[String(row.id)];\n        setOldRows(oldRows);\n        row.edit = true;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickDelete = (row) => {\n        axios.delete(`${process.env.REACT_APP_REST_URI}/break_times/${row.id}`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then(() => {\n            delete rows[rows.indexOf(row)];\n            setRows(rows.slice());\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param customer \n     */\n    const handleChangeCustomer = (row, customer) => {\n        backupRow(row);\n        row.customer = customer;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param start_time \n     */\n    const handleChangeStartTime = (row, start_time) => {\n        backupRow(row);\n        row.start_time = start_time;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param end_time \n     */\n    const handleChangeEndTime = (row, end_time) => {\n        backupRow(row);\n        row.end_time = end_time;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const backupRow = (row) => {\n        if (!oldRows.hasOwnProperty(String(row.id))) {\n            oldRows[String(row.id)] = Object.assign({}, row);\n        }\n    };\n\n    /**\n     * \n     *\n     * @param event \n     * @param reason \n     */\n    const handleCloseSnackbar = (event, reason) => {\n        if ('clickaway' === reason) {\n            return;\n        }\n        setSnackbarOpen(false);\n    };\n\n    /**\n     * \n     *\n     * @param start \n     * @param end \n     * @returns {boolean} true: OK, false: NG\n     */\n    const validationTime = (start, end) => {\n        const now = new Date();\n        const starts = start.split(':');\n        const ends = end.split(':');\n        const sdt = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Number(starts[0]), Number(starts[1]));\n        const edt = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Number(ends[0]), Number(ends[1]));\n        return sdt < edt;\n    };\n\n    return (\n        <form className={classes.root}>\n            <CssBaseline />\n\n            <AppBar position='sticky'>\n                <Toolbar>\n                    <SideMenu/>\n                    <Typography variant='h6' className={classes.title}>\n                        \n                    </Typography>\n                    <UserAvatar/>\n                </Toolbar>\n            </AppBar>\n\n            <Dialog open={addModalOpen} onClose={() => setAddModelOpen(false)}>\n                <DialogTitle className={classes.dialogTitle}></DialogTitle>\n                <DialogContent>\n                    <Grid container={true} spacing={2}>\n                        <Grid item={true} xs={3}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       defaultValue={year} disabled={true} />\n                        </Grid>\n                        <Grid item={true} xs={3}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       defaultValue={month} disabled={true} />\n                        </Grid>\n                        <Grid item={true} xs={6}/>\n                        <Grid item={true} xs={4}>\n                            <TextField autoFocus={true} label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setCustomer(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setStartTime(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setEndTime(event.target.value)} />\n                        </Grid>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickDialogCancel} color=\"primary\">\n                        \n                    </Button>\n                    <Button onClick={handleClickDialogAdd} color=\"primary\">\n                        \n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleCloseSnackbar}>\n                <Alert severity={severity} variant=\"filled\" onClose={handleCloseSnackbar}>{message}</Alert>\n            </Snackbar>\n\n            <Container maxWidth='lg' className={classes.container}>\n                <Toolbar className={classes.tableToolbar}>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        \n                    </Typography>\n                    <TextField required={true} label=\"\" margin=\"normal\" defaultValue={selectedYear} \n                               onChange={(event) => setSelectedYear(event.target.value)} />\n                    <FormControl required={true} margin=\"normal\">\n                        <InputLabel htmlFor=\"select-month\"></InputLabel>\n                        <NativeSelect value={selectedMonth} inputProps={{id: 'select-month'}}\n                                      onChange={(event) => setSelectedMonth(event.target.value)}>\n                            <MonthOptions />\n                        </NativeSelect>\n                    </FormControl>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickSearch}>\n                            <SearchIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickAdd}>\n                            <AddIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickCopy}>\n                            <FileCopyIcon />\n                        </IconButton>\n                    </Tooltip>\n                </Toolbar>\n                <TableContainer component={Paper}>\n                    <Table size=\"small\" className={classes.table} aria-label=\"breaktime\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {rows.map(row => (\n                                <TableRow key={row.id}>\n                                    <TableCell align=\"center\"><span>{row.year}</span></TableCell>\n                                    <TableCell align=\"center\"><span>{row.month}</span></TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.customer}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       autoFocus={true}\n                                                       onChange={(event) => handleChangeCustomer(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.customer}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.start_time}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       onChange={(event) => handleChangeStartTime(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.start_time}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.end_time}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       onChange={(event) => handleChangeEndTime(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.end_time}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <div>\n                                                <IconButton aria-label=\"done\" onClick={() => handleClickDone(row)}>\n                                                    <DoneIcon />\n                                                </IconButton>\n                                                <IconButton aria-label=\"cancel\" onClick={() => handleClickCancel(row)}>\n                                                    <CancelIcon />\n                                                </IconButton>\n                                            </div>\n                                        ) : (\n                                            <div>\n                                                <IconButton aria-label=\"edit\" onClick={() => handleClickEdit(row)}>\n                                                    <EditIcon />\n                                                </IconButton>\n                                                <IconButton aria-label=\"delete\" onClick={() => handleClickDelete(row)}>\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                            </div>\n                                        )}\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Container>\n        </form>\n    );\n}\n","import React, {useState, useEffect, useCallback} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Alert from '@material-ui/lab/Alert';\nimport Container from '@material-ui/core/Container';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/Add';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport userStore from '../stores/UserStore';\nimport axios from 'axios';\nimport UserAvatar from '../components/UserAvatar';\nimport SideMenu from '../components/SideMenu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport MonthOptions from '../components/MonthOptions';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    title: {\n        flexGrow: 1\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    tableToolbar: {\n        '& .MuiFormControl-root': {\n            marginRight: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            width: 100\n        },\n        marginBottom: theme.spacing(1)\n    },\n    table: {\n        '& .MuiTableCell-root': {\n            whiteSpace: 'nowrap',\n            '& .MuiTextField-root': {\n                width: 100\n            }\n        },\n        '& .MuiTableHead-root': {\n            '& .MuiTableRow-root': {\n                '& .MuiTableCell-root': {\n                    fontWeight: 600\n                }\n            }\n        }\n    },\n    dialogTitle: {\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    }\n}));\n\nexport default function FixedTime() {\n    const classes = useStyles();\n    const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n    const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\n    const [rows, setRows] = useState([]);\n    const [oldRows, setOldRows] = useState({});\n    const [addModalOpen, setAddModelOpen] = useState(false);\n    const [year, setYear] = useState(selectedYear);\n    const [month, setMonth] = useState(selectedMonth);\n    const [customer, setCustomer] = useState('');\n    const [startTime, setStartTime] = useState('');\n    const [endTime, setEndTime] = useState('');\n    const [severity, setSeverity] = useState('error');\n    const [message, setMessage] = useState('');\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n    /**\n     * \n     */\n    const loadFixedTimes = useCallback(() => {\n        axios.get(`${process.env.REACT_APP_REST_URI}/fixed_times/${selectedYear}/${selectedMonth}`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const records = response.data['records'];\n            const rows = records.map(record => {\n                return {\n                    edit: false,\n                    id: record['fixed_time_id'],\n                    year: record['year'],\n                    month: record['month'],\n                    customer: record['customer'],\n                    start_time: record['start_time'],\n                    end_time: record['end_time']\n                };\n            });\n            setRows(rows);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    }, [selectedYear, selectedMonth]);\n\n    /**\n     * \n     */\n    useEffect(() => {\n        if (selectedYear > 0) {\n            loadFixedTimes();\n        }\n    }, [selectedYear, selectedMonth, loadFixedTimes]);\n\n    /**\n     * \n     */\n    const handleClickSearch = () => {\n        // \n        if (!selectedYear) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        loadFixedTimes();\n    };\n\n    /**\n     * \n     */\n    const handleClickAdd = () => {\n        setYear(selectedYear);\n        setMonth(selectedMonth);\n        setCustomer('');\n        setStartTime('');\n        setEndTime('');\n        setAddModelOpen(true);\n    };\n\n    /**\n     * \n     */\n    const handleClickCopy = () => {\n        // \n        if (!selectedYear) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.post(`${process.env.REACT_APP_REST_URI}/fixed_times/copy`, {\n            from_year: 1 === Number(selectedMonth) ? Number(selectedYear) - 1 : Number(selectedYear),\n            from_month: 1 === Number(selectedMonth) ? 12 : Number(selectedMonth) - 1,\n            to_year: Number(selectedYear),\n            to_month: Number(selectedMonth)\n        },{\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const records = response.data['records'];\n            const rows = records.map(record => {\n                return {\n                    edit: false,\n                    id: record['fixed_time_id'],\n                    year: record['year'],\n                    month: record['month'],\n                    customer: record['customer'],\n                    start_time: record['start_time'],\n                    end_time: record['end_time']\n                };\n            });\n            setRows(rows);\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     */\n    const handleClickDialogCancel = () => {\n        setAddModelOpen(false);\n    };\n\n    /**\n     * \n     */\n    const handleClickDialogAdd = () => {\n        if (!customer) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!startTime) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!endTime) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        const regex = RegExp(/\\d{1,2}:\\d{1,2}/);\n        if (!regex.test(startTime)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!regex.test(endTime)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!validationTime(startTime, endTime)) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.post(`${process.env.REACT_APP_REST_URI}/fixed_times`, {\n            year: year,\n            month: month,\n            customer: customer,\n            start_time: startTime,\n            end_time: endTime\n        }, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const record = response.data['record'];\n            rows.push({\n                edit: false,\n                id: record['fixed_time_id'],\n                year: record['year'],\n                month: record['month'],\n                customer: record['customer'],\n                start_time: record['start_time'],\n                end_time: record['end_time']\n            });\n            setRows(rows.slice());\n            setAddModelOpen(false);\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickDone = (row) => {\n        if (!row.customer) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!row.start_time) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!row.end_time) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        const regex = RegExp(/\\d{1,2}:\\d{1,2}/);\n        if (!regex.test(row.start_time)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!regex.test(row.end_time)) {\n            setSeverity('error');\n            setMessage('HH:mm');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!validationTime(row.start_time, row.end_time)) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n\n        axios.put(`${process.env.REACT_APP_REST_URI}/fixed_times/${row.id}`, {\n            year: row.year,\n            month: row.month,\n            customer: row.customer,\n            start_time: row.start_time,\n            end_time: row.end_time\n        }, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then((response) => {\n            const record = response.data['record'];\n            row.edit = false;\n            row.year = record['year'];\n            row.month = record['month'];\n            row.customer = record['customer'];\n            row.start_time = record['start_time'];\n            row.end_time = record['end_time'];\n            setRows(rows.slice());\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickCancel = (row) => {\n        const oldRow = oldRows[String(row.id)];\n        if (oldRow) {\n            row.customer = oldRow.customer;\n            row.start_time = oldRow.start_time;\n            row.end_time = oldRow.end_time;\n            delete oldRows[String(row.id)];\n            setOldRows(oldRows);\n        }\n        row.edit = false;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickEdit = (row) => {\n        delete oldRows[String(row.id)];\n        setOldRows(oldRows);\n        row.edit = true;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const handleClickDelete = (row) => {\n        axios.delete(`${process.env.REACT_APP_REST_URI}/fixed_times/${row.id}`, {\n            params: {\n                token: userStore.getAccessToken()\n            }\n        }).then(() => {\n            delete rows[rows.indexOf(row)];\n            setRows(rows.slice());\n            setSeverity('success');\n            setMessage('');\n            setSnackbarOpen(true);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param customer \n     */\n    const handleChangeCustomer = (row, customer) => {\n        backupRow(row);\n        row.customer = customer;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param start_time \n     */\n    const handleChangeStartTime = (row, start_time) => {\n        backupRow(row);\n        row.start_time = start_time;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     * @param end_time \n     */\n    const handleChangeEndTime = (row, end_time) => {\n        backupRow(row);\n        row.end_time = end_time;\n        setRows(rows.slice());\n    };\n\n    /**\n     * \n     *\n     * @param row \n     */\n    const backupRow = (row) => {\n        if (!oldRows.hasOwnProperty(String(row.id))) {\n            oldRows[String(row.id)] = Object.assign({}, row);\n        }\n    };\n\n    /**\n     * \n     *\n     * @param event \n     * @param reason \n     */\n    const handleCloseSnackbar = (event, reason) => {\n        if ('clickaway' === reason) {\n            return;\n        }\n        setSnackbarOpen(false);\n    };\n\n    /**\n     * \n     *\n     * @param start \n     * @param end \n     * @returns {boolean} true: OK, false: NG\n     */\n    const validationTime = (start, end) => {\n        const now = new Date();\n        const starts = start.split(':');\n        const ends = end.split(':');\n        const sdt = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Number(starts[0]), Number(starts[1]));\n        const edt = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Number(ends[0]), Number(ends[1]));\n        return sdt < edt;\n    };\n\n    return (\n        <form className={classes.root}>\n            <CssBaseline />\n\n            <AppBar position='sticky'>\n                <Toolbar>\n                    <SideMenu/>\n                    <Typography variant='h6' className={classes.title}>\n                        \n                    </Typography>\n                    <UserAvatar/>\n                </Toolbar>\n            </AppBar>\n\n            <Dialog open={addModalOpen} onClose={() => setAddModelOpen(false)}>\n                <DialogTitle className={classes.dialogTitle}></DialogTitle>\n                <DialogContent>\n                    <Grid container={true} spacing={2}>\n                        <Grid item={true} xs={3}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       defaultValue={year} disabled={true} />\n                        </Grid>\n                        <Grid item={true} xs={3}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       defaultValue={month} disabled={true} />\n                        </Grid>\n                        <Grid item={true} xs={6} />\n                        <Grid item={true} xs={4}>\n                            <TextField autoFocus={true} label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setCustomer(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setStartTime(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setEndTime(event.target.value)} />\n                        </Grid>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickDialogCancel} color=\"primary\">\n                        \n                    </Button>\n                    <Button onClick={handleClickDialogAdd} color=\"primary\">\n                        \n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleCloseSnackbar}>\n                <Alert severity={severity} variant=\"filled\" onClose={handleCloseSnackbar}>{message}</Alert>\n            </Snackbar>\n\n            <Container maxWidth='lg' className={classes.container}>\n                <Toolbar className={classes.tableToolbar}>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        \n                    </Typography>\n                    <TextField required={true} label=\"\" margin=\"normal\" defaultValue={selectedYear}\n                               onChange={(event) => setSelectedYear(event.target.value)} />\n                    <FormControl required={true} margin=\"normal\">\n                        <InputLabel htmlFor=\"select-month\"></InputLabel>\n                        <NativeSelect value={selectedMonth} inputProps={{id: 'select-month'}}\n                                      onChange={(event) => setSelectedMonth(event.target.value)}>\n                            <MonthOptions />\n                        </NativeSelect>\n                    </FormControl>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickSearch}>\n                            <SearchIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickAdd}>\n                            <AddIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"\">\n                        <IconButton onClick={handleClickCopy}>\n                            <FileCopyIcon />\n                        </IconButton>\n                    </Tooltip>\n                </Toolbar>\n                <TableContainer component={Paper}>\n                    <Table size=\"small\" className={classes.table} aria-label=\"breaktime\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {rows.map(row => (\n                                <TableRow key={row.id}>\n                                    <TableCell align=\"center\"><span>{row.year}</span></TableCell>\n                                    <TableCell align=\"center\"><span>{row.month}</span></TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.customer}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       autoFocus={true}\n                                                       onChange={(event) => handleChangeCustomer(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.customer}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.start_time}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       onChange={(event) => handleChangeStartTime(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.start_time}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <TextField defaultValue={row.end_time}\n                                                       inputProps={{style: {textAlign: 'center'}}}\n                                                       onChange={(event) => handleChangeEndTime(row, event.target.value)} />\n                                        ) : (\n                                            <span>{row.end_time}</span>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {row.edit ? (\n                                            <div>\n                                                <IconButton aria-label=\"done\" onClick={() => handleClickDone(row)}>\n                                                    <DoneIcon />\n                                                </IconButton>\n                                                <IconButton aria-label=\"cancel\" onClick={() => handleClickCancel(row)}>\n                                                    <CancelIcon />\n                                                </IconButton>\n                                            </div>\n                                        ) : (\n                                            <div>\n                                                <IconButton aria-label=\"edit\" onClick={() => handleClickEdit(row)}>\n                                                    <EditIcon />\n                                                </IconButton>\n                                                <IconButton aria-label=\"delete\" onClick={() => handleClickDelete(row)}>\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                            </div>\n                                        )}\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Container>\n        </form>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport {Link as ReactLink, Redirect} from 'react-router-dom';\nimport userStore from '../stores/UserStore';\nimport qs from 'query-string';\nimport axios from 'axios';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    menuButton: {\n        marginRight: theme.spacing(2)\n    },\n    title: {\n        flexGrow: 1\n    },\n    slack: {\n        width: 32,\n        height: 32,\n        marginRight: theme.spacing(2)\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(5),\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(3),\n        paddingLeft: theme.spacing(10),\n        paddingRight: theme.spacing(10),\n        '& .MuiButton-root': {\n            marginTop: theme.spacing(2)\n        }\n    }\n}));\n\nexport default function OAuth() {\n    const classes = useStyles();\n    const [authenticated, setAuthenticated] = useState(false);\n    const [severity, setSeverity] = useState('success');\n    const [message, setMessage] = useState('...');\n\n    useEffect(() => {\n        userStore.on('change', () => {\n            setAuthenticated(userStore.isAuthenticated());\n        });\n        const code = qs.parse(window.location.search).code;\n        if (code !== undefined) {\n            axios.get('https://slack.com/api/oauth.access', {\n                params: {\n                    client_id: process.env.REACT_APP_OAUTH_CLIENT_ID,\n                    client_secret: process.env.REACT_APP_OAUTH_CLIENT_SECRET,\n                    code: code,\n                    redirect_uri: process.env.REACT_APP_OAUTH_REDIRECT\n                }\n            }).then((response) => {\n                if (response.data['ok']) {\n                    const accessToken = response.data['access_token'];\n                    const userId = response.data['user_id'];\n                    axios.get('https://slack.com/api/users.info', {\n                        params: {\n                            token: accessToken,\n                            user: userId\n                        }\n                    }).then((response) => {\n                        if (response.data['ok']) {\n                            userStore.setUser(response.data['user']);\n                            userStore.setAccessToken(accessToken);\n                            userStore.setAuthenticated(true);\n                            userStore.removeAllListeners('change');\n                        }\n                        else {\n                            setSeverity('error');\n                            setMessage(response.data['error']);\n                        }\n                    }).catch((error) => {\n                        setSeverity('error');\n                        setMessage(error['message']);\n                    });\n                }\n                else {\n                    setSeverity('error');\n                    setMessage(response.data['error']);\n                }\n            }).catch((error) => {\n                setSeverity('error');\n                setMessage(error['message']);\n            });\n        }\n        else {\n            setSeverity('error');\n            setMessage('code');\n        }\n    },[]);\n\n    return authenticated ? (<Redirect to='/timerecord'/>) : (\n        <div className={classes.root}>\n            <AppBar position=\"sticky\">\n                <Toolbar>\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        \n                    </Typography>\n                </Toolbar>\n            </AppBar>\n\n            <Container maxWidth=\"md\" className={classes.container}>\n                {'success' === severity ? (<div>{message}</div>) : (\n                    <div>\n                        <Alert severity={severity}>{message}</Alert>\n                        <div><Button component={ReactLink} to=\"/\" color=\"primary\">TOP</Button></div>\n                    </div>\n                )}\n            </Container>\n        </div>\n    );\n}\n","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SideMenu from '../components/SideMenu';\nimport Typography from '@material-ui/core/Typography';\nimport UserAvatar from '../components/UserAvatar';\nimport AppBar from '@material-ui/core/AppBar';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Alert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    title: {\n        flexGrow: 1\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    tableToolbar: {\n        '& .MuiFormControl-root': {\n            marginRight: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            width: 100\n        },\n        marginBottom: theme.spacing(1)\n    },\n    tableContainer: {\n        marginBottom: theme.spacing(3)\n    },\n    table: {\n        '& .MuiTableCell-root': {\n            whiteSpace: 'nowrap',\n            '& .MuiTextField-root': {\n                width: 100\n            }\n        },\n        '& .MuiTableHead-root': {\n            '& .MuiTableRow-root': {\n                '& .MuiTableCell-root': {\n                    fontWeight: 600\n                }\n            }\n        }\n    },\n    dialogTitle: {\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    }\n}));\n\nexport default function Expense() {\n    const classes = useStyles();\n    const [severity, setSeverity] = useState('error');\n    const [message, setMessage] = useState('');\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\n    const [addTransportOpen, setAddTransportOpen] = useState(false);\n    const [year, setYear] = useState(new Date().getFullYear());\n    const [month, setMonth] = useState(new Date().getMonth() + 1);\n    const [date, setDate] = useState(new Date().getDate());\n    const [customer, setCustomer] = useState('');\n    const [journal, setJournal] = useState(1);\n    const [breakdown, setBreakdown] = useState(1);\n    const [billTo, setBillTo] = useState(1);\n    const [cost, setCost] = useState(0);\n    const [transport, setTransport] = useState('');\n    const [departure, setDeparture] = useState('');\n    const [arrival, setArrival] = useState('');\n\n    /**\n     * \n     *\n     * @returns {[]} \n     * @constructor\n     */\n    const DateOptions = () => {\n        const options = [];\n        const now = new Date();\n        const work = new Date(now.getFullYear(), now.getMonth(), 1);\n        while (true) {\n            const date = work.getDate();\n            options.push(<option key={`${work.getFullYear()}-${work.getMonth()}-${date}`}>{date}</option>);\n            work.setDate(date + 1);\n            if (now.getMonth() !== work.getMonth()) {\n                break;\n            }\n        }\n        return options;\n    };\n\n    /**\n     * \n     *\n     * @param event \n     * @param reason \n     */\n    const handleCloseSnackbar = (event, reason) => {\n        if ('clickaway' === reason) {\n            return;\n        }\n        setSnackbarOpen(false);\n    };\n\n    /**\n     * \n     */\n    const handleClickAddTransport = () => {\n        const now = new Date();\n        setYear(String(now.getFullYear()));\n        setMonth(String(now.getMonth() + 1));\n        setDate(String(now.getDate()));\n        setCustomer('');\n        setJournal(1);\n        setBreakdown(1);\n        setBillTo(1);\n        setCost(0);\n        setTransport('');\n        setDeparture('');\n        setArrival('');\n        setAddTransportOpen(true);\n    };\n\n    /**\n     * \n     *\n     * @param event \n     */\n    const handleChangeCost = (event) => {\n        if (/^([1-9]\\d*|0)$/.test(event.target.value)) {\n            setCost(Number(event.target.value));\n        }\n        else {\n            event.target.value = '';\n        }\n    };\n\n    /**\n     * \n     */\n    const handleClickDialogAddTransport = () => {\n        if (!customer) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!cost) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!transport) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!departure) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n        if (!arrival) {\n            setSeverity('error');\n            setMessage('');\n            setSnackbarOpen(true);\n            return;\n        }\n    };\n\n    return (\n        <form className={classes.root}>\n            <CssBaseline/>\n\n            <AppBar position='sticky'>\n                <Toolbar>\n                    <SideMenu/>\n                    <Typography variant='h6' className={classes.title}>\n                        \n                    </Typography>\n                    <UserAvatar/>\n                </Toolbar>\n            </AppBar>\n\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleCloseSnackbar}>\n                <Alert severity={severity} variant=\"filled\" onClose={handleCloseSnackbar}>{message}</Alert>\n            </Snackbar>\n\n            <Dialog open={addTransportOpen} onClose={() => setAddTransportOpen(false)}>\n                <DialogTitle className={classes.dialogTitle}></DialogTitle>\n                <DialogContent>\n                    <Grid container={true} spacing={2}>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       defaultValue={year} disabled={true} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       defaultValue={month} disabled={true} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <FormControl required={true} fullWidth={true} margin=\"dense\">\n                                <InputLabel htmlFor=\"select-date\"></InputLabel>\n                                <NativeSelect value={date} inputProps={{id: 'select-date'}}\n                                              onChange={(event) => setDate(event.target.value)}>\n                                    <DateOptions />\n                                </NativeSelect>\n                            </FormControl>\n                        </Grid>\n                        <Grid item={true} xs={12}>\n                            <TextField autoFocus={true} label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setCustomer(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <FormControl required={true} fullWidth={true} margin=\"dense\">\n                                <InputLabel htmlFor=\"select-journal\"></InputLabel>\n                                <NativeSelect value={journal} inputProps={{id: 'select-journal'}}\n                                              onChange={(event) => setJournal(Number(event.target.value))}>\n                                    <option value={10}></option>\n                                    <option value={11}></option>\n                                </NativeSelect>\n                            </FormControl>\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <FormControl required={true} fullWidth={true} margin=\"dense\">\n                                <InputLabel htmlFor=\"select-breakdown\"></InputLabel>\n                                <NativeSelect value={breakdown} inputProps={{id: 'select-breakdown'}}\n                                              onChange={(event) => setBreakdown(Number(event.target.value))}>\n                                    <option value={10}></option>\n                                    <option value={11}></option>\n                                    <option value={12}>IC</option>\n                                    <option value={13}></option>\n                                </NativeSelect>\n                            </FormControl>\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <FormControl required={true} fullWidth={true} margin=\"dense\">\n                                <InputLabel htmlFor=\"select-bill-to\"></InputLabel>\n                                <NativeSelect value={billTo} inputProps={{id: 'select-bill-to'}}\n                                              onChange={(event) => setBillTo(Number(event.target.value))}>\n                                    <option value={1}></option>\n                                    <option value={2}></option>\n                                </NativeSelect>\n                            </FormControl>\n                        </Grid>\n                        <Grid item={true} xs={12}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => handleChangeCost(event)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setTransport(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setDeparture(event.target.value)} />\n                        </Grid>\n                        <Grid item={true} xs={4}>\n                            <TextField label=\"\" fullWidth={true} required={true} margin=\"dense\"\n                                       onChange={(event) => setArrival(event.target.value)} />\n                        </Grid>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button color=\"primary\" onClick={() => setAddTransportOpen(false)}>\n                        \n                    </Button>\n                    <Button color=\"primary\" onClick={handleClickDialogAddTransport}>\n                        \n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Container maxWidth='lg' className={classes.container}>\n                <Toolbar className={classes.tableToolbar}>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        \n                    </Typography>\n                </Toolbar>\n                <TableContainer component={Paper} className={classes.tableContainer}>\n                    <Toolbar>\n                        <Typography variant=\"h6\" className={classes.title}></Typography>\n                        <Tooltip title=\"\">\n                            <IconButton onClick={handleClickAddTransport}>\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                    <Table size=\"small\" className={classes.table} aria-label=\"expenses\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                            </TableRow>\n                        </TableHead>\n                    </Table>\n                </TableContainer>\n                <TableContainer component={Paper} className={classes.tableContainer}>\n                    <Toolbar>\n                        <Typography variant=\"h6\" className={classes.title}></Typography>\n                        <Tooltip title=\"\">\n                            <IconButton>\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                    <Table size=\"small\" className={classes.table} aria-label=\"expenses\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                                <TableCell align=\"center\"></TableCell>\n                            </TableRow>\n                        </TableHead>\n                    </Table>\n                </TableContainer>\n            </Container>\n        </form>\n    );\n}","import React, {useState} from 'react';\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport SideMenu from \"../components/SideMenu\";\nimport Typography from \"@material-ui/core/Typography\";\nimport UserAvatar from \"../components/UserAvatar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport axios from \"axios\";\nimport userStore from \"../stores/UserStore\";\nimport {saveAs} from \"file-saver\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport pdf from '../images/pdf.svg';\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        '& .MuiTypography-h5': {\n            fontWeight: 600\n        },\n        '& .MuiTypography-h6': {\n            fontWeight: 600\n        }\n    },\n    title: {\n        flexGrow: 1\n    },\n    container: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    icon: {\n        width: 32,\n        height: 32,\n        marginRight: theme.spacing(2)\n    }\n}));\n\nexport default function Documents() {\n    const classes = useStyles();\n    const [severity, setSeverity] = useState('error');\n    const [message, setMessage] = useState('');\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n    /**\n     * \n     *\n     * @param event \n     * @param reason \n     */\n    const handleCloseSnackbar = (event, reason) => {\n        if ('clickaway' === reason) {\n            return;\n        }\n        setSnackbarOpen(false);\n    };\n\n    /**\n     * \n     *\n     * @param fileName \n     */\n    const handleDownload = (fileName) => {\n        axios.get(`${process.env.REACT_APP_REST_URI}/docs/${fileName}`, {\n            params: {\n                token: userStore.getAccessToken()\n            },\n            responseType: 'blob'\n        }).then((response) => {\n            const blob = new Blob([response.data], {\n                type: response.data.type\n            });\n            saveAs(blob, fileName);\n        }).catch((error) => {\n            setSeverity('error');\n            setMessage(error['message']);\n            setSnackbarOpen(true);\n        });\n    };\n\n    return (\n        <div>\n            <AppBar position='sticky'>\n                <Toolbar>\n                    <SideMenu/>\n                    <Typography variant='h6' className={classes.title}>\n                        \n                    </Typography>\n                    <UserAvatar/>\n                </Toolbar>\n            </AppBar>\n\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleCloseSnackbar}>\n                <Alert severity={severity} variant=\"filled\" onClose={handleCloseSnackbar}>{message}</Alert>\n            </Snackbar>\n\n            <Container maxWidth='md' className={classes.container}>\n                <Button color=\"inherit\" onClick={() => {handleDownload('(1).pdf')}}>\n                    <img src={pdf} className={classes.icon} alt=\"(1).pdf\" />\n                    (1).pdf\n                </Button>\n            </Container>\n        </div>\n    );\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Main from './routes/Main';\nimport PrivateRoute from './PrivateRoute';\nimport TimeRecord from './routes/TimeRecord';\nimport BreakTime from './routes/BreakTime';\nimport FixedTime from './routes/FixedTime';\nimport OAuth from './routes/OAuth';\nimport Expense from './routes/Expense';\nimport Documents from \"./routes/Documents\";\n\nexport default function App() {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route exact path=\"/\"><Main/></Route>\n                <Route exact path=\"/oauth\"><OAuth/></Route>\n                <PrivateRoute exact path=\"/timerecord\">\n                    <TimeRecord/>\n                </PrivateRoute>\n                <PrivateRoute exact path=\"/expense\">\n                    <Expense/>\n                </PrivateRoute>\n                <PrivateRoute exact path=\"/fixedtime\">\n                    <FixedTime/>\n                </PrivateRoute>\n                <PrivateRoute exact path=\"/breaktime\">\n                    <BreakTime/>\n                </PrivateRoute>\n                <PrivateRoute exact path=\"/documents\">\n                    <Documents/>\n                </PrivateRoute>\n                <Route path=\"*\"><Main/></Route>\n            </Switch>\n        </BrowserRouter>\n    );\n}\n"],"sourceRoot":""}