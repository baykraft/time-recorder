(this["webpackJsonptime-recorder-view"]=this["webpackJsonptime-recorder-view"]||[]).push([[0],{179:function(e,t,a){e.exports=a.p+"static/media/slack_icon.be396144.svg"},202:function(e,t,a){e.exports=a.p+"static/media/pdf.7d7b22ee.svg"},219:function(e,t,a){e.exports=a(405)},224:function(e,t,a){},405:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),i=(a(224),a(36)),o=a(39),m=a(183),u=a(446),s=a(442),d=a(444),E=a(74),g=a(445),p=a(62),f=a.n(p),h=a(179),b=a.n(h),v=a(447),k=a(204),_=a(180),y=a.n(_),O=a(181),j=a.n(O),x=a(82),C=a.n(x),w=a(83),T=a.n(w),S=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},slack:{width:32,height:32,marginRight:e.spacing(2)},container:{marginTop:e.spacing(2),marginBottom:e.spacing(5),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(10),paddingRight:e.spacing(10)}}})),N=y()().use(j.a);var M=function(){var e=S(),t=T()().history;return Object(n.useEffect)((function(){var e=C.a.parse(window.location.search).code;void 0!==e&&t.push("/oauth?code=".concat(e))}),[t]),r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(f.a,null)),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"),r.a.createElement(u.a,{color:"inherit",onClick:function(){window.location="https://slack.com/oauth/authorize?client_id=".concat("3246745826.923685300119","&scope=users:read&redirect_uri=").concat("https://baykraft.herokuapp.com/")}},r.a.createElement("img",{src:b.a,className:e.slack,alt:"slack"}),"Login with Slack"))),r.a.createElement(v.a,{maxWidth:"md",className:e.container,component:k.a},r.a.createElement("div",null,N.processSync('## Slack\u30dc\u30c3\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3064\u3044\u3066\n### \u51fa\u52e4\u8a18\u9332\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a00\u8449\u3092\u542b\u3080\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\n* \u30e2\u30fc\u30cb\u30f3\u30b0\n* \u30e2\u301c\u30cb\u30f3\u30b0\n* \u3082\u30fc\u306b\u3093\u3050\n* \u3082\u301c\u306b\u3093\u3050\n* \u304a\u3063\u306f\n* \u304a\u306f\n* \u3078\u308d\n* \u306f\u308d\n* \u30d8\u30ed\n* \u30cf\u30ed\n* hi\n* hello\n* morning\n* \u51fa\u52e4\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306f\u65e5\u6642\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u65e5\u6642\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u73fe\u5728\u65e5\u6642\u3067\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n\n* \u304a\u306f\u3088\u3046\u3054\u3056\u3044\u307e\u3059 2020/1/29 9:00\n* \u304a\u306f\u3088\u3046\u3054\u3056\u3044\u307e\u3059 1/29 9:00\n* \u304a\u306f\u3088\u3046\u3054\u3056\u3044\u307e\u3059 1/29\n* \u304a\u306f\u3088\u3046\u3054\u3056\u3044\u307e\u3059 9:00\n* \u304a\u306f\u3088\u3046\u3054\u3056\u3044\u307e\u3059\n\n### \u9000\u52e4\u8a18\u9332\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a00\u8449\u3092\u542b\u3080\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\n* \u30d0\u30a4\n* \u30d0\u30fc\u30a4\n* \u30d0\u301c\u30a4\n* \u30d0\u30a1\u30a4\n* \u3070\u3044\n* \u3070\u30fc\u3044\n* \u3070\u301c\u3044\n* \u3070\u3041\u3044\n* \u304a\u3084\u3059\u307f\n* \u304a\u3064\n* \u304a\u3063\u30fc\n* \u3055\u3089\u3070\n* \u304a\u5148\n* \u304a\u75b2\n* \u5e30\n* \u4e59\n* bye\n* night\n* cu\n* c u\n* cyou\n* c you\n* seeu\n* see u\n* seeyou\n* see you\n* \u9000\u52e4\n* \u3054\u304d\u3052\u3093\u3088\n* \u30b0\u30c3\u30d0\u30a4\n* \u30b0\u30d0\u30a4\n* \u3055\u3088\u3046\u306a\u3089\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306f\u65e5\u6642\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u65e5\u6642\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u73fe\u5728\u65e5\u6642\u3067\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n\n* \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f 2020/1/29 17:30\n* \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f 1/29 17:30\n* \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f 1/29\n* \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f 17:30\n* \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\n\n### \u4f11\u6687\u8a18\u9332\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a00\u8449\u3092\u542b\u3080\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\n* \u4f11\n* \u3084\u3059\u307e\n* \u3084\u3059\u307f\n* \u3084\u3059\u3080\n* \u4f11\u6687\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306f\u65e5\u4ed8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u73fe\u5728\u65e5\u4ed8\u3067\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n\u300c\u6709\u4f11\u300d\u3068\u3057\u3066\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n* \u4f11\u307f 2020/1/29\n* \u4f11\u307f 1/29\n* \u4f11\u307f\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306f\u5348\u524d\u304a\u3088\u3073\u5348\u5f8c\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u5348\u524d\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u306f\u300c\u6709\u4f11(AM)\u300d\u3001\u5348\u5f8c\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u306f\u300c\u6709\u4f11(PM)\u300d\u3068\u3057\u3066\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n\n* \u5348\u524d\u4f11\u307f\n* \u5348\u5f8c\u4f11\u307f\n* am\u4f11\u307f\n* pm\u4f11\u307f\n\n\u307e\u305f\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u6587\u5b57\u5217\u3092\u62ec\u308b\u3053\u3068\u3067\u30e1\u30e2\u60c5\u5831\u3092\u8a18\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n* \u4f11\u307f 1/30 "\u3053\u3053\u304c\u30e1\u30e2\u3068\u3057\u3066\u8a18\u9332\u3055\u308c\u308b"\n* \u4f11\u307f "\u3053\u3053\u304c\u30e1\u30e2\u3068\u3057\u3066\u8a18\u9332\u3055\u308c\u308b"').contents)))},W=a(5),A=a(2),F=a(88),D=a(46),H=a(187),q=a(188),B=a(203),R=new(function(e){function t(){var e;return Object(F.a)(this,t),(e=Object(H.a)(this,Object(q.a)(t).call(this))).authenticated=!1,e.accessToken="",e.user={},e}return Object(B.a)(t,e),Object(D.a)(t,[{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"setAuthenticated",value:function(e){this.authenticated=e,this.emit("change")}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setAccessToken",value:function(e){this.accessToken=e,this.emit("change")}},{key:"getUser",value:function(){return this.user}},{key:"setUser",value:function(e){this.user=e,this.emit("change")}}]),t}(a(189).EventEmitter));function P(e){var t=e.children,a=Object(A.a)(e,["children"]),c=Object(n.useState)(R.isAuthenticated()),l=Object(W.a)(c,1)[0];return r.a.createElement(o.Route,Object.assign({},a,{render:function(e){var a=e.location;return l?t:r.a.createElement(o.Redirect,{to:{pathname:"/",state:{from:a}}})}}))}var V=a(464),G=a(468),L=a(467),Y=a(463),z=a(465),U=a(466),I=a(470),J=a(65),$=a.n(J),K=a(12),Q=a.n(K),X=a(43),Z=a.n(X),ee=a(66),te=a.n(ee),ae=a(199),ne=a(471),re=a(473),ce=a(67),le=a.n(ce),ie=a(44),oe=a.n(ie),me=a(456),ue=a(462),se=a(475),de=a(461),Ee=a(200),ge=a.n(Ee),pe=a(89),fe=a(474),he=a(406),be=a(448),ve=a(449),ke=a(450),_e=Object(m.a)((function(e){return{userAvatar:{marginRight:e.spacing(2)}}}));function ye(){var e=_e(),t=Object(n.useState)(R.getUser()),a=Object(W.a)(t,1)[0],c=Object(n.useState)(null),l=Object(W.a)(c,2),i=l[0],o=l[1],m=T()().history;return r.a.createElement("div",null,r.a.createElement(u.a,{color:"inherit",onClick:function(e){o(i?null:e.currentTarget)}},r.a.createElement(fe.a,{alt:"avatar",src:a.profile.image_48,className:e.userAvatar}),a.profile.real_name),r.a.createElement(he.a,{open:Boolean(i),anchorEl:i},r.a.createElement(k.a,null,r.a.createElement(be.a,{onClickAway:function(){o(null)}},r.a.createElement(ve.a,{autoFocusItem:Boolean(i),onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),o(null))}},r.a.createElement(ke.a,{onClick:function(){R.setUser(null),R.setAccessToken(null),R.setAuthenticated(!1),m.push("/")}},"\u30ed\u30b0\u30a2\u30a6\u30c8"))))))}var Oe=a(472),je=a(408),xe=a(409),Ce=a(452),we=a(92),Te=a.n(we),Se=a(453),Ne=a(451),Me=a(196),We=a.n(Me),Ae=a(197),Fe=a.n(Ae),De=a(195),He=a.n(De),qe=a(192),Be=a.n(qe),Re=a(193),Pe=a.n(Re),Ve=a(454),Ge=a(191),Le=a.n(Ge),Ye=a(194),ze=a.n(Ye),Ue=a(198),Ie=a.n(Ue),Je=Object(m.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},drawerList:{width:250},nested:{paddingLeft:e.spacing(4)}}}));function $e(){var e=Je(),t=Object(n.useState)(!1),a=Object(W.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(R.getUser()),m=Object(W.a)(o,1)[0],u=Object(n.useState)(!1),s=Object(W.a)(u,2),d=s[0],E=s[1];return r.a.createElement("div",null,r.a.createElement(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return l(!0)}},r.a.createElement(f.a,null)),r.a.createElement(Oe.a,{open:c,onClose:function(){return l(!1)}},r.a.createElement("div",{className:e.drawerList},r.a.createElement(je.a,{component:"nav"},r.a.createElement(xe.a,{button:!0,component:i.b,to:"/timerecord"},r.a.createElement(Ce.a,null,r.a.createElement(Te.a,null)),r.a.createElement(Se.a,{primary:"\u52e4\u6020\u8a18\u9332"})),r.a.createElement(xe.a,{button:!0,component:i.b,to:"/expense"},r.a.createElement(Ce.a,null,r.a.createElement(He.a,null)),r.a.createElement(Se.a,{primary:"\u7d4c\u8cbb\u8a18\u9332"})),r.a.createElement(Ne.a,null),r.a.createElement(xe.a,{button:!0,component:i.b,to:"/fixedtime"},r.a.createElement(Ce.a,null,r.a.createElement(We.a,null)),r.a.createElement(Se.a,{primary:"\u6240\u5b9a\u6642\u9593\u8a2d\u5b9a"})),r.a.createElement(xe.a,{button:!0,component:i.b,to:"/breaktime"},r.a.createElement(Ce.a,null,r.a.createElement(Fe.a,null)),r.a.createElement(Se.a,{primary:"\u4f11\u61a9\u6642\u9593\u8a2d\u5b9a"})),r.a.createElement(Ne.a,null),r.a.createElement(xe.a,{button:!0,component:i.b,to:"/documents"},r.a.createElement(Ce.a,null,r.a.createElement(Ie.a,null)),r.a.createElement(Se.a,{primary:"\u5404\u7a2e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"})),r.a.createElement((function(){return m.is_admin?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,null),r.a.createElement(xe.a,{button:!0,onClick:function(){return E(!d)}},r.a.createElement(Ce.a,null,r.a.createElement(Le.a,null)),r.a.createElement(Se.a,{primary:"\u7ba1\u7406"}),d?r.a.createElement(Be.a,null):r.a.createElement(Pe.a,null)),r.a.createElement(Ve.a,{in:d,timeout:"auto",unmountOnExit:!0},r.a.createElement(je.a,{component:"div",disablePadding:!0},r.a.createElement(xe.a,{button:!0,className:e.nested},r.a.createElement(Ce.a,null,r.a.createElement(ze.a,null)),r.a.createElement(Se.a,{primary:"\u30e6\u30fc\u30b6\u4e00\u89a7"}))))):r.a.createElement(r.a.Fragment,null)}),null)))))}var Ke=a(201),Qe=a.n(Ke),Xe=a(457),Ze=a(458),et=a(459),tt=a(460),at=a(455);function nt(){for(var e=[],t=1;t<=12;t++)e.push(r.a.createElement("option",{key:t,value:t},t));return e}var rt=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},title:{flexGrow:1},table:{"& .MuiTableCell-root":{whiteSpace:"nowrap"},"& .MuiTableHead-root":{"& .MuiTableRow-root":{"& .MuiTableCell-root":{fontWeight:600}}}},container:{marginTop:e.spacing(2),marginBottom:e.spacing(5)},summaryContainer:{marginBottom:e.spacing(3)},tableToolbar:{"& .MuiFormControl-root":{marginRight:e.spacing(2),marginLeft:e.spacing(1),width:100},marginBottom:e.spacing(1)},holidayCell:{color:"#f44336"},customerField:{width:50},dateField:{width:50}}})),ct=["\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u65e5"],lt={0:"",10:"\u6709\u4f11",11:"\u6709\u4f11(AM)",12:"\u6709\u4f11(PM)",20:"\u6b20\u52e4",21:"\u6b20\u52e4(AM)",22:"\u6b20\u52e4(PM)",30:"\u7279\u4f11",31:"\u7279\u4f11(AM)",32:"\u7279\u4f11(PM)",40:"\u4ee3\u4f11",41:"\u4ee3\u4f11(AM)",42:"\u4ee3\u4f11(PM)",50:"\u4f11\u51fa"};function it(){var e=rt(),t=Object(n.useState)((new Date).getFullYear()),a=Object(W.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)((new Date).getMonth()+1),o=Object(W.a)(i,2),m=o[0],p=o[1],f=Object(n.useState)([]),h=Object(W.a)(f,2),b=h[0],_=h[1],y=Object(n.useState)("error"),O=Object(W.a)(y,2),j=O[0],x=O[1],C=Object(n.useState)(""),w=Object(W.a)(C,2),T=w[0],S=w[1],N=Object(n.useState)(!1),M=Object(W.a)(N,2),A=M[0],F=M[1],D=Object(n.useState)({}),H=Object(W.a)(D,2),q=H[0],B=H[1],P=Object(n.useState)(!1),J=Object(W.a)(P,2),K=J[0],X=J[1],ee=Object(n.useState)({}),ce=Object(W.a)(ee,2),ie=ce[0],Ee=ce[1],he=Object(n.useState)([]),be=Object(W.a)(he,2),ve=be[0],ke=be[1],_e=Object(n.useCallback)((function(){Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/time_records/").concat(c,"/").concat(m),{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records,a=[];t.forEach((function(e){a.push({edit:!1,id:e.time_record_id,year:e.year,month:e.month,date:e.date,day:ct[e.day],holiday:e.holiday?"H":"",customer:e.customer,kind:e.kind,start_time:e.start_time,end_time:e.end_time,total_time:e.total_time,over_time:e.over_time,midnight_time:e.midnight_time,deduction_time:e.deduction_time,note:e.note})})),_(a),B({})})).catch((function(e){x("error"),S(e.message),F(!0)}))}),[c,m]),Oe=Object(n.useCallback)((function(){Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/time_records/").concat(c,"/").concat(m,"/summary"),{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records,a=[];t.forEach((function(e){a.push({customer:e.customer,fixed_time:e.fixed_time,actual_time:e.actual_time,over_time:e.over_time,midnight_time:e.midnight_time,statutory_time:e.statutory_time,statutory_midnight_time:e.statutory_midnight_time,deduction_time:e.deduction_time})})),ke(a)})).catch((function(e){x("error"),S(e.message),F(!0)}))}),[c,m]);Object(n.useEffect)((function(){c>0&&(_e(),Oe())}),[c,m,_e,Oe]);var Ce=function(e,t){t.edit=!1,t.id=e.time_record_id,t.customer=e.customer,t.kind=e.kind,t.start_time=e.start_time,t.end_time=e.end_time,t.total_time=e.total_time,t.note=e.note},we=function(e){q.hasOwnProperty(String(e.date))||(q[String(e.date)]=Object.assign({},e))},Me=function(){for(var e=[],t=0,a=Object.entries(lt);t<a.length;t++){var n=a[t],c=Object(W.a)(n,2),l=c[0],i=c[1];e.push(r.a.createElement("option",{key:l,value:l},i))}return e},We=function(e,t){"clickaway"!==t&&F(!1)},Ae=function(e,t){var a=new Date,n=e.split(":"),r=t.split(":");return new Date(a.getFullYear(),a.getMonth(),a.getDate(),Number(n[0]),Number(n[1]))<new Date(a.getFullYear(),a.getMonth(),a.getDate(),Number(r[0]),Number(r[1]))},Fe=function(e){return r.a.createElement(xe.a,null,r.a.createElement(at.a,null,r.a.createElement(fe.a,null,r.a.createElement(Te.a,null))),r.a.createElement(Se.a,{primary:e.primary,secondary:e.secondary}))};return r.a.createElement("form",{className:e.root},r.a.createElement(me.a,null),r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement($e,null),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"),r.a.createElement(ye,null))),r.a.createElement(re.a,{open:A,autoHideDuration:6e3,onClose:We},r.a.createElement(ne.a,{severity:j,variant:"filled",onClose:We},T)),r.a.createElement(Xe.a,{open:K,onClose:function(){return X(!1)},fullWidth:!0,maxWidth:"xs"},r.a.createElement(Ze.a,null,ie.year,"/",ie.month,"/",ie.date),r.a.createElement(et.a,null,r.a.createElement(je.a,null,r.a.createElement(Fe,{primary:"\u5408\u8a08",secondary:ie.total_time}),r.a.createElement(Ne.a,{variant:"inset",component:"li"}),r.a.createElement(Fe,{primary:"\u6b8b\u696d",secondary:ie.over_time}),r.a.createElement(Ne.a,{variant:"inset",component:"li"}),r.a.createElement(Fe,{primary:"\u6df1\u591c\u6b8b\u696d",secondary:ie.midnight_time}),r.a.createElement(Ne.a,{variant:"inset",component:"li"}),r.a.createElement(Fe,{primary:"\u63a7\u9664",secondary:ie.deduction_time}))),r.a.createElement(tt.a,null,r.a.createElement(u.a,{onClick:function(){return X(!1)},color:"primary"},"\u9589\u3058\u308b"))),r.a.createElement(v.a,{maxWidth:"lg",className:e.container},r.a.createElement(d.a,{className:e.tableToolbar},r.a.createElement(E.a,{variant:"h5",className:e.title},"\u52e4\u6020\u8a18\u9332"),r.a.createElement(I.a,{required:!0,label:"\u5e74",margin:"normal",defaultValue:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement(de.a,{required:!0,margin:"normal"},r.a.createElement(se.a,{htmlFor:"select-month"},"\u6708"),r.a.createElement(ae.a,{value:m,inputProps:{id:"select-month"},onChange:function(e){return p(e.target.value)}},r.a.createElement(nt,null))),r.a.createElement(ue.a,{title:"\u691c\u7d22"},r.a.createElement(g.a,{onClick:function(){if(!c)return x("error"),S("\u5e74\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void F(!0);_e(),Oe()}},r.a.createElement($.a,null))),r.a.createElement(ue.a,{title:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},r.a.createElement(g.a,{onClick:function(){if(!c)return x("error"),S("\u5e74\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void F(!0);Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/time_records/").concat(c,"/").concat(m,"/download"),{params:{token:R.getAccessToken()},responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:e.data.type});Object(pe.saveAs)(t,"\u52e4\u6020".concat(c).concat(String(m).padStart(2,"0"),".xlsx"))})).catch((function(e){x("error"),S(e.message),F(!0)}))}},r.a.createElement(ge.a,null)))),r.a.createElement(Y.a,{component:k.a,className:e.summaryContainer},r.a.createElement(V.a,{size:"small",className:e.table},r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{align:"center"},"\u5ba2\u5148"),r.a.createElement(L.a,{align:"center"},"\u6240\u5b9a\u6642\u9593"),r.a.createElement(L.a,{align:"center"},"\u5b9f\u50cd\u6642\u9593"),r.a.createElement(L.a,{align:"center"},"\u666e\u901a\u6b8b\u696d"),r.a.createElement(L.a,{align:"center"},"\u6df1\u591c\u6b8b\u696d"),r.a.createElement(L.a,{align:"center"},"\u6cd5\u4f11\u666e\u6b8b"),r.a.createElement(L.a,{align:"center"},"\u6cd5\u4f11\u6df1\u6b8b"),r.a.createElement(L.a,{align:"center"},"\u63a7\u9664"))),r.a.createElement(G.a,null,ve.map((function(e){return r.a.createElement(U.a,{key:e.customer},r.a.createElement(L.a,{align:"center"},e.customer),r.a.createElement(L.a,{align:"center"},e.fixed_time),r.a.createElement(L.a,{align:"center"},e.actual_time),r.a.createElement(L.a,{align:"center"},e.over_time),r.a.createElement(L.a,{align:"center"},e.midnight_time),r.a.createElement(L.a,{align:"center"},e.statutory_time),r.a.createElement(L.a,{align:"center"},e.statutory_midnight_time),r.a.createElement(L.a,{align:"center"},e.deduction_time))}))))),r.a.createElement(Y.a,{component:k.a},r.a.createElement(V.a,{className:e.table,"aria-label":"timerecords",size:"small"},r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{align:"center",scope:"row"},"\u65e5\u4ed8"),r.a.createElement(L.a,{align:"center"},"\u66dc\u65e5"),r.a.createElement(L.a,{align:"center"},"\u4f11\u65e5"),r.a.createElement(L.a,{align:"center"},"\u5ba2\u5148"),r.a.createElement(L.a,{align:"center"},"\u52e4\u4f11"),r.a.createElement(L.a,{align:"center"},"\u59cb\u696d"),r.a.createElement(L.a,{align:"center"},"\u7d42\u696d"),r.a.createElement(L.a,{align:"center"},"\u5099\u8003"),r.a.createElement(L.a,{align:"center"},"\u64cd\u4f5c"))),r.a.createElement(G.a,null,b.map((function(t){return r.a.createElement(U.a,{key:t.date},r.a.createElement(L.a,{align:"center"},t.date),r.a.createElement(L.a,{align:"center"},t.day),r.a.createElement(L.a,{align:"center",className:e.holidayCell},t.holiday),r.a.createElement(L.a,{align:"center"},t.edit?r.a.createElement(I.a,{defaultValue:t.customer,className:e.customerField,inputProps:{style:{textAlign:"center"}},autoFocus:!0,onChange:function(e){return function(e,t){we(e),e.customer=t,_(b.slice())}(t,e.target.value)}}):r.a.createElement("span",null,t.customer)),r.a.createElement(L.a,{align:"center"},t.edit?r.a.createElement(ae.a,{value:t.kind,onChange:function(e){return function(e,t){we(e),e.kind=t,_(b.slice())}(t,e.target.value)}},r.a.createElement(Me,null)):r.a.createElement("span",null,lt[t.kind])),r.a.createElement(L.a,{align:"center"},t.edit?r.a.createElement(I.a,{defaultValue:t.start_time,className:e.dateField,inputProps:{style:{textAlign:"center"}},onChange:function(e){return function(e,t){we(e),e.start_time=t,_(b.slice())}(t,e.target.value)}}):r.a.createElement("span",null,t.start_time)),r.a.createElement(L.a,{align:"center"},t.edit?r.a.createElement(I.a,{defaultValue:t.end_time,className:e.dateField,inputProps:{style:{textAlign:"center"}},onChange:function(e){return function(e,t){we(e),e.end_time=t,_(b.slice())}(t,e.target.value)}}):r.a.createElement("span",null,t.end_time)),t.edit?r.a.createElement(L.a,{align:"center"},r.a.createElement(I.a,{defaultValue:t.note,onChange:function(e){return function(e,t){we(e),e.note=t,_(b.slice())}(t,e.target.value)}})):r.a.createElement(L.a,null,r.a.createElement("span",null,t.note)),r.a.createElement(L.a,{align:"center"},t.edit?r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"done",onClick:function(){return function(e){var t=RegExp(/\d{1,2}:\d{1,2}/);if(e.start_time&&!t.test(e.start_time))return x("error"),S("\u59cb\u696d\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void F(!0);if(e.end_time&&!t.test(e.end_time))return x("error"),S("\u7d42\u696d\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void F(!0);if(e.start_time&&e.end_time&&!Ae(e.start_time,e.end_time))return x("error"),S("\u59cb\u696d\u306f\u7d42\u696d\u3088\u308a\u3082\u524d\u306e\u6642\u9593\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void F(!0);var a=e.year,n=e.month,r=e.date;0===e.id?Q.a.post("".concat("https://baykraft.herokuapp.com/rest","/time_records/").concat(a,"/").concat(n,"/").concat(r),{customer:e.customer,kind:e.kind,start_time:e.start_time,end_time:e.end_time,note:e.note},{params:{token:R.getAccessToken()}}).then((function(t){Ce(t.data.record,e),_(b.slice()),x("success"),S("\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),F(!0),Oe()})).catch((function(e){x("error"),S(e.message),F(!0)})):Q.a.put("".concat("https://baykraft.herokuapp.com/rest","/time_records/").concat(a,"/").concat(n,"/").concat(r),{customer:e.customer,kind:e.kind,start_time:e.start_time,end_time:e.end_time,note:e.note},{params:{token:R.getAccessToken()}}).then((function(t){Ce(t.data.record,e),_(b.slice()),x("success"),S("\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),F(!0),Oe()})).catch((function(e){x("error"),S(e.message),F(!0)}))}(t)}},r.a.createElement(te.a,null)),r.a.createElement(g.a,{"aria-label":"cancel",onClick:function(){return function(e){var t=q[String(e.date)];t&&(e.customer=t.customer,e.kind=t.kind,e.start_time=t.start_time,e.end_time=t.end_time,e.total_time=t.total_time,e.note=t.note,delete q[String(e.date)],B(q)),e.edit=!1,_(b.slice())}(t)}},r.a.createElement(le.a,null))):r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"edit",onClick:function(){return function(e){delete q[String(e.date)],B(q),e.edit=!0,_(b.slice())}(t)}},r.a.createElement(Z.a,null)),r.a.createElement(g.a,{"aria-label":"delete",onClick:function(){return function(e){var t=e.year,a=e.month,n=e.date;Q.a.delete("".concat("https://baykraft.herokuapp.com/rest","/time_records/").concat(t,"/").concat(a,"/").concat(n),{params:{token:R.getAccessToken()}}).then((function(){e.id=0,e.customer=null,e.kind=0,e.start_time=null,e.end_time=null,e.total_time=null,e.note=null,_(b.slice()),x("success"),S("\u524a\u9664\u3057\u307e\u3057\u305f\u3002"),F(!0),Oe()})).catch((function(e){x("error"),S(e.message),F(!0)}))}(t)}},r.a.createElement(oe.a,null)),r.a.createElement(ue.a,{title:"\u8a73\u7d30"},r.a.createElement(g.a,{"aria-label":"details",onClick:function(){return function(e){X(!0),Ee(e)}(t)}},r.a.createElement(Qe.a,null))))))})))))))}var ot=a(54),mt=a.n(ot),ut=a(469),st=a(97),dt=a.n(st),Et=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},title:{flexGrow:1},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},tableToolbar:{"& .MuiFormControl-root":{marginRight:e.spacing(2),marginLeft:e.spacing(1),width:100},marginBottom:e.spacing(1)},table:{"& .MuiTableCell-root":{whiteSpace:"nowrap","& .MuiTextField-root":{width:100}},"& .MuiTableHead-root":{"& .MuiTableRow-root":{"& .MuiTableCell-root":{fontWeight:600}}}},dialogTitle:{"& .MuiTypography-h6":{fontWeight:600}}}}));function gt(){var e=Et(),t=Object(n.useState)((new Date).getFullYear()),a=Object(W.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)((new Date).getMonth()+1),o=Object(W.a)(i,2),m=o[0],p=o[1],f=Object(n.useState)([]),h=Object(W.a)(f,2),b=h[0],_=h[1],y=Object(n.useState)({}),O=Object(W.a)(y,2),j=O[0],x=O[1],C=Object(n.useState)(!1),w=Object(W.a)(C,2),T=w[0],S=w[1],N=Object(n.useState)(c),M=Object(W.a)(N,2),A=M[0],F=M[1],D=Object(n.useState)(m),H=Object(W.a)(D,2),q=H[0],B=H[1],P=Object(n.useState)(""),J=Object(W.a)(P,2),K=J[0],X=J[1],ee=Object(n.useState)(""),ce=Object(W.a)(ee,2),ie=ce[0],Ee=ce[1],ge=Object(n.useState)(""),pe=Object(W.a)(ge,2),fe=pe[0],he=pe[1],be=Object(n.useState)("error"),ve=Object(W.a)(be,2),ke=ve[0],_e=ve[1],Oe=Object(n.useState)(""),je=Object(W.a)(Oe,2),xe=je[0],Ce=je[1],we=Object(n.useState)(!1),Te=Object(W.a)(we,2),Se=Te[0],Ne=Te[1],Me=Object(n.useCallback)((function(){Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/break_times/").concat(c,"/").concat(m),{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records.map((function(e){return{edit:!1,id:e.break_time_id,year:e.year,month:e.month,customer:e.customer,start_time:e.start_time,end_time:e.end_time}}));_(t)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)}))}),[c,m]);Object(n.useEffect)((function(){c>0&&Me()}),[c,m,Me]);var We=function(e){j.hasOwnProperty(String(e.id))||(j[String(e.id)]=Object.assign({},e))},Ae=function(e,t){"clickaway"!==t&&Ne(!1)},Fe=function(e,t){var a=new Date,n=e.split(":"),r=t.split(":");return new Date(a.getFullYear(),a.getMonth(),a.getDate(),Number(n[0]),Number(n[1]))<new Date(a.getFullYear(),a.getMonth(),a.getDate(),Number(r[0]),Number(r[1]))};return r.a.createElement("form",{className:e.root},r.a.createElement(me.a,null),r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement($e,null),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"),r.a.createElement(ye,null))),r.a.createElement(Xe.a,{open:T,onClose:function(){return S(!1)}},r.a.createElement(Ze.a,{className:e.dialogTitle},"\u4f11\u61a9\u6642\u9593\u8ffd\u52a0"),r.a.createElement(et.a,null,r.a.createElement(ut.a,{container:!0,spacing:2},r.a.createElement(ut.a,{item:!0,xs:3},r.a.createElement(I.a,{label:"\u5e74",fullWidth:!0,required:!0,margin:"dense",defaultValue:A,disabled:!0})),r.a.createElement(ut.a,{item:!0,xs:3},r.a.createElement(I.a,{label:"\u6708",fullWidth:!0,required:!0,margin:"dense",defaultValue:q,disabled:!0})),r.a.createElement(ut.a,{item:!0,xs:6}),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{autoFocus:!0,label:"\u5ba2\u5148",fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return X(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u958b\u59cb\u6642\u9593",fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return Ee(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u7d42\u4e86\u6642\u9593",fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return he(e.target.value)}})))),r.a.createElement(tt.a,null,r.a.createElement(u.a,{onClick:function(){S(!1)},color:"primary"},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.a.createElement(u.a,{onClick:function(){if(!K)return _e("error"),Ce("\u5ba2\u5148\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!ie)return _e("error"),Ce("\u958b\u59cb\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!fe)return _e("error"),Ce("\u7d42\u4e86\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);var e=RegExp(/\d{1,2}:\d{1,2}/);return e.test(ie)?e.test(fe)?Fe(ie,fe)?void Q.a.post("".concat("https://baykraft.herokuapp.com/rest","/break_times"),{year:A,month:q,customer:K,start_time:ie,end_time:fe},{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.record;b.push({edit:!1,id:t.break_time_id,year:t.year,month:t.month,customer:t.customer,start_time:t.start_time,end_time:t.end_time}),_(b.slice()),S(!1),_e("success"),Ce("\u4f11\u61a9\u6642\u9593\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)})):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u7d42\u4e86\u6642\u9593\u3088\u308a\u3082\u524d\u306e\u6642\u9593\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u7d42\u4e86\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0))},color:"primary"},"\u8ffd\u52a0"))),r.a.createElement(re.a,{open:Se,autoHideDuration:6e3,onClose:Ae},r.a.createElement(ne.a,{severity:ke,variant:"filled",onClose:Ae},xe)),r.a.createElement(v.a,{maxWidth:"lg",className:e.container},r.a.createElement(d.a,{className:e.tableToolbar},r.a.createElement(E.a,{variant:"h5",className:e.title},"\u4f11\u61a9\u6642\u9593\u8a2d\u5b9a"),r.a.createElement(I.a,{required:!0,label:"\u5e74",margin:"normal",defaultValue:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement(de.a,{required:!0,margin:"normal"},r.a.createElement(se.a,{htmlFor:"select-month"},"\u6708"),r.a.createElement(ae.a,{value:m,inputProps:{id:"select-month"},onChange:function(e){return p(e.target.value)}},r.a.createElement(nt,null))),r.a.createElement(ue.a,{title:"\u691c\u7d22"},r.a.createElement(g.a,{onClick:function(){if(!c)return _e("error"),Ce("\u5e74\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);Me()}},r.a.createElement($.a,null))),r.a.createElement(ue.a,{title:"\u8ffd\u52a0"},r.a.createElement(g.a,{onClick:function(){F(c),B(m),X(""),Ee(""),he(""),S(!0)}},r.a.createElement(mt.a,null))),r.a.createElement(ue.a,{title:"\u524d\u6708\u6d41\u7528"},r.a.createElement(g.a,{onClick:function(){if(!c)return _e("error"),Ce("\u5e74\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);Q.a.post("".concat("https://baykraft.herokuapp.com/rest","/break_times/copy"),{from_year:1===Number(m)?Number(c)-1:Number(c),from_month:1===Number(m)?12:Number(m)-1,to_year:Number(c),to_month:Number(m)},{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records.map((function(e){return{edit:!1,id:e.break_time_id,year:e.year,month:e.month,customer:e.customer,start_time:e.start_time,end_time:e.end_time}}));_(t),_e("success"),Ce("\u524d\u6708\u306e\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)}))}},r.a.createElement(dt.a,null)))),r.a.createElement(Y.a,{component:k.a},r.a.createElement(V.a,{size:"small",className:e.table,"aria-label":"breaktime"},r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{align:"center"},"\u5e74"),r.a.createElement(L.a,{align:"center"},"\u6708"),r.a.createElement(L.a,{align:"center"},"\u5ba2\u5148"),r.a.createElement(L.a,{align:"center"},"\u958b\u59cb\u6642\u9593"),r.a.createElement(L.a,{align:"center"},"\u7d42\u4e86\u6642\u9593"),r.a.createElement(L.a,{align:"center"},"\u64cd\u4f5c"))),r.a.createElement(G.a,null,b.map((function(e){return r.a.createElement(U.a,{key:e.id},r.a.createElement(L.a,{align:"center"},r.a.createElement("span",null,e.year)),r.a.createElement(L.a,{align:"center"},r.a.createElement("span",null,e.month)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement(I.a,{defaultValue:e.customer,inputProps:{style:{textAlign:"center"}},autoFocus:!0,onChange:function(t){return function(e,t){We(e),e.customer=t,_(b.slice())}(e,t.target.value)}}):r.a.createElement("span",null,e.customer)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement(I.a,{defaultValue:e.start_time,inputProps:{style:{textAlign:"center"}},onChange:function(t){return function(e,t){We(e),e.start_time=t,_(b.slice())}(e,t.target.value)}}):r.a.createElement("span",null,e.start_time)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement(I.a,{defaultValue:e.end_time,inputProps:{style:{textAlign:"center"}},onChange:function(t){return function(e,t){We(e),e.end_time=t,_(b.slice())}(e,t.target.value)}}):r.a.createElement("span",null,e.end_time)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"done",onClick:function(){return function(e){if(!e.customer)return _e("error"),Ce("\u5ba2\u5148\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!e.start_time)return _e("error"),Ce("\u958b\u59cb\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!e.end_time)return _e("error"),Ce("\u7d42\u4e86\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);var t=RegExp(/\d{1,2}:\d{1,2}/);return t.test(e.start_time)?t.test(e.end_time)?Fe(e.start_time,e.end_time)?void Q.a.put("".concat("https://baykraft.herokuapp.com/rest","/break_times/").concat(e.id),{year:e.year,month:e.month,customer:e.customer,start_time:e.start_time,end_time:e.end_time},{params:{token:R.getAccessToken()}}).then((function(t){var a=t.data.record;e.edit=!1,e.year=a.year,e.month=a.month,e.customer=a.customer,e.start_time=a.start_time,e.end_time=a.end_time,_(b.slice()),_e("success"),Ce("\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)})):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u7d42\u4e86\u6642\u9593\u3088\u308a\u3082\u524d\u306e\u6642\u9593\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u7d42\u4e86\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0))}(e)}},r.a.createElement(te.a,null)),r.a.createElement(g.a,{"aria-label":"cancel",onClick:function(){return function(e){var t=j[String(e.id)];t&&(e.customer=t.customer,e.start_time=t.start_time,e.end_time=t.end_time,delete j[String(e.id)],x(j)),e.edit=!1,_(b.slice())}(e)}},r.a.createElement(le.a,null))):r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"edit",onClick:function(){return function(e){delete j[String(e.id)],x(j),e.edit=!0,_(b.slice())}(e)}},r.a.createElement(Z.a,null)),r.a.createElement(g.a,{"aria-label":"delete",onClick:function(){return function(e){Q.a.delete("".concat("https://baykraft.herokuapp.com/rest","/break_times/").concat(e.id),{params:{token:R.getAccessToken()}}).then((function(){delete b[b.indexOf(e)],_(b.slice()),_e("success"),Ce("\u524a\u9664\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)}))}(e)}},r.a.createElement(oe.a,null)))))})))))))}var pt=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},title:{flexGrow:1},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},tableToolbar:{"& .MuiFormControl-root":{marginRight:e.spacing(2),marginLeft:e.spacing(1),width:100},marginBottom:e.spacing(1)},table:{"& .MuiTableCell-root":{whiteSpace:"nowrap","& .MuiTextField-root":{width:100}},"& .MuiTableHead-root":{"& .MuiTableRow-root":{"& .MuiTableCell-root":{fontWeight:600}}}},dialogTitle:{"& .MuiTypography-h6":{fontWeight:600}}}}));function ft(){var e=pt(),t=Object(n.useState)((new Date).getFullYear()),a=Object(W.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)((new Date).getMonth()+1),o=Object(W.a)(i,2),m=o[0],p=o[1],f=Object(n.useState)([]),h=Object(W.a)(f,2),b=h[0],_=h[1],y=Object(n.useState)({}),O=Object(W.a)(y,2),j=O[0],x=O[1],C=Object(n.useState)(!1),w=Object(W.a)(C,2),T=w[0],S=w[1],N=Object(n.useState)(c),M=Object(W.a)(N,2),A=M[0],F=M[1],D=Object(n.useState)(m),H=Object(W.a)(D,2),q=H[0],B=H[1],P=Object(n.useState)(""),J=Object(W.a)(P,2),K=J[0],X=J[1],ee=Object(n.useState)(""),ce=Object(W.a)(ee,2),ie=ce[0],Ee=ce[1],ge=Object(n.useState)(""),pe=Object(W.a)(ge,2),fe=pe[0],he=pe[1],be=Object(n.useState)("error"),ve=Object(W.a)(be,2),ke=ve[0],_e=ve[1],Oe=Object(n.useState)(""),je=Object(W.a)(Oe,2),xe=je[0],Ce=je[1],we=Object(n.useState)(!1),Te=Object(W.a)(we,2),Se=Te[0],Ne=Te[1],Me=Object(n.useCallback)((function(){Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/fixed_times/").concat(c,"/").concat(m),{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records.map((function(e){return{edit:!1,id:e.fixed_time_id,year:e.year,month:e.month,customer:e.customer,start_time:e.start_time,end_time:e.end_time}}));_(t)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)}))}),[c,m]);Object(n.useEffect)((function(){c>0&&Me()}),[c,m,Me]);var We=function(e){j.hasOwnProperty(String(e.id))||(j[String(e.id)]=Object.assign({},e))},Ae=function(e,t){"clickaway"!==t&&Ne(!1)},Fe=function(e,t){var a=new Date,n=e.split(":"),r=t.split(":");return new Date(a.getFullYear(),a.getMonth(),a.getDate(),Number(n[0]),Number(n[1]))<new Date(a.getFullYear(),a.getMonth(),a.getDate(),Number(r[0]),Number(r[1]))};return r.a.createElement("form",{className:e.root},r.a.createElement(me.a,null),r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement($e,null),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"),r.a.createElement(ye,null))),r.a.createElement(Xe.a,{open:T,onClose:function(){return S(!1)}},r.a.createElement(Ze.a,{className:e.dialogTitle},"\u6240\u5b9a\u6642\u9593\u8ffd\u52a0"),r.a.createElement(et.a,null,r.a.createElement(ut.a,{container:!0,spacing:2},r.a.createElement(ut.a,{item:!0,xs:3},r.a.createElement(I.a,{label:"\u5e74",fullWidth:!0,required:!0,margin:"dense",defaultValue:A,disabled:!0})),r.a.createElement(ut.a,{item:!0,xs:3},r.a.createElement(I.a,{label:"\u6708",fullWidth:!0,required:!0,margin:"dense",defaultValue:q,disabled:!0})),r.a.createElement(ut.a,{item:!0,xs:6}),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{autoFocus:!0,label:"\u5ba2\u5148",fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return X(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u958b\u59cb\u6642\u9593",fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return Ee(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u7d42\u4e86\u6642\u9593",fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return he(e.target.value)}})))),r.a.createElement(tt.a,null,r.a.createElement(u.a,{onClick:function(){S(!1)},color:"primary"},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.a.createElement(u.a,{onClick:function(){if(!K)return _e("error"),Ce("\u5ba2\u5148\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!ie)return _e("error"),Ce("\u958b\u59cb\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!fe)return _e("error"),Ce("\u7d42\u4e86\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);var e=RegExp(/\d{1,2}:\d{1,2}/);return e.test(ie)?e.test(fe)?Fe(ie,fe)?void Q.a.post("".concat("https://baykraft.herokuapp.com/rest","/fixed_times"),{year:A,month:q,customer:K,start_time:ie,end_time:fe},{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.record;b.push({edit:!1,id:t.fixed_time_id,year:t.year,month:t.month,customer:t.customer,start_time:t.start_time,end_time:t.end_time}),_(b.slice()),S(!1),_e("success"),Ce("\u6240\u5b9a\u6642\u9593\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)})):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u7d42\u4e86\u6642\u9593\u3088\u308a\u3082\u524d\u306e\u6642\u9593\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u7d42\u4e86\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0))},color:"primary"},"\u8ffd\u52a0"))),r.a.createElement(re.a,{open:Se,autoHideDuration:6e3,onClose:Ae},r.a.createElement(ne.a,{severity:ke,variant:"filled",onClose:Ae},xe)),r.a.createElement(v.a,{maxWidth:"lg",className:e.container},r.a.createElement(d.a,{className:e.tableToolbar},r.a.createElement(E.a,{variant:"h5",className:e.title},"\u6240\u5b9a\u6642\u9593\u8a2d\u5b9a"),r.a.createElement(I.a,{required:!0,label:"\u5e74",margin:"normal",defaultValue:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement(de.a,{required:!0,margin:"normal"},r.a.createElement(se.a,{htmlFor:"select-month"},"\u6708"),r.a.createElement(ae.a,{value:m,inputProps:{id:"select-month"},onChange:function(e){return p(e.target.value)}},r.a.createElement(nt,null))),r.a.createElement(ue.a,{title:"\u691c\u7d22"},r.a.createElement(g.a,{onClick:function(){if(!c)return _e("error"),Ce("\u5e74\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);Me()}},r.a.createElement($.a,null))),r.a.createElement(ue.a,{title:"\u8ffd\u52a0"},r.a.createElement(g.a,{onClick:function(){F(c),B(m),X(""),Ee(""),he(""),S(!0)}},r.a.createElement(mt.a,null))),r.a.createElement(ue.a,{title:"\u524d\u6708\u6d41\u7528"},r.a.createElement(g.a,{onClick:function(){if(!c)return _e("error"),Ce("\u5e74\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);Q.a.post("".concat("https://baykraft.herokuapp.com/rest","/fixed_times/copy"),{from_year:1===Number(m)?Number(c)-1:Number(c),from_month:1===Number(m)?12:Number(m)-1,to_year:Number(c),to_month:Number(m)},{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records.map((function(e){return{edit:!1,id:e.fixed_time_id,year:e.year,month:e.month,customer:e.customer,start_time:e.start_time,end_time:e.end_time}}));_(t),_e("success"),Ce("\u524d\u6708\u306e\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)}))}},r.a.createElement(dt.a,null)))),r.a.createElement(Y.a,{component:k.a},r.a.createElement(V.a,{size:"small",className:e.table,"aria-label":"breaktime"},r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{align:"center"},"\u5e74"),r.a.createElement(L.a,{align:"center"},"\u6708"),r.a.createElement(L.a,{align:"center"},"\u5ba2\u5148"),r.a.createElement(L.a,{align:"center"},"\u958b\u59cb\u6642\u9593"),r.a.createElement(L.a,{align:"center"},"\u7d42\u4e86\u6642\u9593"),r.a.createElement(L.a,{align:"center"},"\u64cd\u4f5c"))),r.a.createElement(G.a,null,b.map((function(e){return r.a.createElement(U.a,{key:e.id},r.a.createElement(L.a,{align:"center"},r.a.createElement("span",null,e.year)),r.a.createElement(L.a,{align:"center"},r.a.createElement("span",null,e.month)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement(I.a,{defaultValue:e.customer,inputProps:{style:{textAlign:"center"}},autoFocus:!0,onChange:function(t){return function(e,t){We(e),e.customer=t,_(b.slice())}(e,t.target.value)}}):r.a.createElement("span",null,e.customer)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement(I.a,{defaultValue:e.start_time,inputProps:{style:{textAlign:"center"}},onChange:function(t){return function(e,t){We(e),e.start_time=t,_(b.slice())}(e,t.target.value)}}):r.a.createElement("span",null,e.start_time)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement(I.a,{defaultValue:e.end_time,inputProps:{style:{textAlign:"center"}},onChange:function(t){return function(e,t){We(e),e.end_time=t,_(b.slice())}(e,t.target.value)}}):r.a.createElement("span",null,e.end_time)),r.a.createElement(L.a,{align:"center"},e.edit?r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"done",onClick:function(){return function(e){if(!e.customer)return _e("error"),Ce("\u5ba2\u5148\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!e.start_time)return _e("error"),Ce("\u958b\u59cb\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);if(!e.end_time)return _e("error"),Ce("\u7d42\u4e86\u6642\u9593\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void Ne(!0);var t=RegExp(/\d{1,2}:\d{1,2}/);return t.test(e.start_time)?t.test(e.end_time)?Fe(e.start_time,e.end_time)?void Q.a.put("".concat("https://baykraft.herokuapp.com/rest","/fixed_times/").concat(e.id),{year:e.year,month:e.month,customer:e.customer,start_time:e.start_time,end_time:e.end_time},{params:{token:R.getAccessToken()}}).then((function(t){var a=t.data.record;e.edit=!1,e.year=a.year,e.month=a.month,e.customer=a.customer,e.start_time=a.start_time,e.end_time=a.end_time,_(b.slice()),_e("success"),Ce("\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)})):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u7d42\u4e86\u6642\u9593\u3088\u308a\u3082\u524d\u306e\u6642\u9593\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u7d42\u4e86\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0)):(_e("error"),Ce("\u958b\u59cb\u6642\u9593\u306f\u300cHH:mm\u300d\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void Ne(!0))}(e)}},r.a.createElement(te.a,null)),r.a.createElement(g.a,{"aria-label":"cancel",onClick:function(){return function(e){var t=j[String(e.id)];t&&(e.customer=t.customer,e.start_time=t.start_time,e.end_time=t.end_time,delete j[String(e.id)],x(j)),e.edit=!1,_(b.slice())}(e)}},r.a.createElement(le.a,null))):r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"edit",onClick:function(){return function(e){delete j[String(e.id)],x(j),e.edit=!0,_(b.slice())}(e)}},r.a.createElement(Z.a,null)),r.a.createElement(g.a,{"aria-label":"delete",onClick:function(){return function(e){Q.a.delete("".concat("https://baykraft.herokuapp.com/rest","/fixed_times/").concat(e.id),{params:{token:R.getAccessToken()}}).then((function(){delete b[b.indexOf(e)],_(b.slice()),_e("success"),Ce("\u524a\u9664\u3057\u307e\u3057\u305f\u3002"),Ne(!0)})).catch((function(e){_e("error"),Ce(e.message),Ne(!0)}))}(e)}},r.a.createElement(oe.a,null)))))})))))))}var ht=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},slack:{width:32,height:32,marginRight:e.spacing(2)},container:{marginTop:e.spacing(2),marginBottom:e.spacing(5),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(10),paddingRight:e.spacing(10),"& .MuiButton-root":{marginTop:e.spacing(2)}}}}));function bt(){var e=ht(),t=Object(n.useState)(!1),a=Object(W.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)("success"),p=Object(W.a)(m,2),h=p[0],b=p[1],k=Object(n.useState)("\u30ed\u30b0\u30a4\u30f3\u4e2d\u3067\u3059..."),_=Object(W.a)(k,2),y=_[0],O=_[1];return Object(n.useEffect)((function(){R.on("change",(function(){l(R.isAuthenticated())}));var e=C.a.parse(window.location.search).code;void 0!==e?Q.a.get("https://slack.com/api/oauth.access",{params:{client_id:"3246745826.923685300119",client_secret:"0f959af4f1b0e43cd06a021d5390e188",code:e,redirect_uri:"https://baykraft.herokuapp.com/"}}).then((function(e){if(e.data.ok){var t=e.data.access_token,a=e.data.user_id;Q.a.get("https://slack.com/api/users.info",{params:{token:t,user:a}}).then((function(e){e.data.ok?(R.setUser(e.data.user),R.setAccessToken(t),R.setAuthenticated(!0),R.removeAllListeners("change")):(b("error"),O(e.data.error))})).catch((function(e){b("error"),O(e.message)}))}else b("error"),O(e.data.error)})).catch((function(e){b("error"),O(e.message)})):(b("error"),O("code\u306e\u6307\u5b9a\u304c\u306a\u3044\u305f\u3081\u8a8d\u8a3c\u3067\u304d\u307e\u305b\u3093\u3002"))}),[]),c?r.a.createElement(o.Redirect,{to:"/timerecord"}):r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(f.a,null)),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"))),r.a.createElement(v.a,{maxWidth:"md",className:e.container},"success"===h?r.a.createElement("div",null,y):r.a.createElement("div",null,r.a.createElement(ne.a,{severity:h},y),r.a.createElement("div",null,r.a.createElement(u.a,{component:i.b,to:"/",color:"primary"},"TOP\u753b\u9762\u306b\u623b\u308b")))))}var vt=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},title:{flexGrow:1},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},tableToolbar:{"& .MuiFormControl-root":{marginRight:e.spacing(2),marginLeft:e.spacing(1),width:100},marginBottom:e.spacing(1)},tableContainer:{marginBottom:e.spacing(3)},table:{"& .MuiTableCell-root":{whiteSpace:"nowrap","& .MuiTextField-root":{width:100}},"& .MuiTableHead-root":{"& .MuiTableRow-root":{"& .MuiTableCell-root":{fontWeight:600}}}},dialogTitle:{"& .MuiTypography-h6":{fontWeight:600}}}})),kt={10:"\u901a\u52e4",11:"\u51fa\u5f35"},_t={10:"\u5b9a\u671f",11:"\u5207\u7b26",12:"IC\u30ab\u30fc\u30c9",13:"\u73fe\u91d1"},yt={1:"\u793e\u5185",2:"\u793e\u5916"};function Ot(){var e=vt(),t=Object(n.useState)("error"),a=Object(W.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(W.a)(i,2),m=o[0],p=o[1],f=Object(n.useState)(!1),h=Object(W.a)(f,2),b=h[0],_=h[1],y=Object(n.useState)(!1),O=Object(W.a)(y,2),j=O[0],x=O[1],C=Object(n.useState)((new Date).getFullYear()),w=Object(W.a)(C,2),T=w[0],S=w[1],N=Object(n.useState)((new Date).getMonth()+1),M=Object(W.a)(N,2),A=M[0],F=M[1],D=Object(n.useState)(T),H=Object(W.a)(D,2),q=H[0],B=H[1],P=Object(n.useState)(A),J=Object(W.a)(P,2),$=J[0],K=J[1],X=Object(n.useState)((new Date).getDate()),ee=Object(W.a)(X,2),te=ee[0],ce=ee[1],le=Object(n.useState)(""),ie=Object(W.a)(le,2),Ee=ie[0],ge=ie[1],pe=Object(n.useState)(10),fe=Object(W.a)(pe,2),he=fe[0],be=fe[1],ve=Object(n.useState)(10),ke=Object(W.a)(ve,2),_e=ke[0],Oe=ke[1],je=Object(n.useState)(1),xe=Object(W.a)(je,2),Ce=xe[0],we=xe[1],Te=Object(n.useState)(0),Se=Object(W.a)(Te,2),Ne=Se[0],Me=Se[1],We=Object(n.useState)(""),Ae=Object(W.a)(We,2),Fe=Ae[0],De=Ae[1],He=Object(n.useState)(""),qe=Object(W.a)(He,2),Be=qe[0],Re=qe[1],Pe=Object(n.useState)(""),Ve=Object(W.a)(Pe,2),Ge=Ve[0],Le=Ve[1],Ye=Object(n.useState)([]),ze=Object(W.a)(Ye,2),Ue=ze[0],Ie=ze[1],Je=Object(n.useState)(0),Ke=Object(W.a)(Je,2),Qe=Ke[0],at=Ke[1],rt=Object(n.useCallback)((function(){Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/expenses/").concat(T,"/").concat(A),{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.records.map((function(e){return{id:e.tran_ex_id,day:e.day,customer:e.customer,classification:e.classification,breakdown:e.breakdown,billing_address:e.billing_address,expenses:e.expenses,transportation:e.transportation,departure:e.departure,arrival:e.arrival}}));Ie(t)})).catch((function(e){l("error"),p(e.message),_(!0)}))}),[T,A]);Object(n.useEffect)((function(){T>0&&rt()}),[T,A,rt]);var ct=function(e,t){"clickaway"!==t&&_(!1)},lt=function(e){if(null!==e)B(T),K(A),ce(e.day),ge(e.customer),be(e.classification),Oe(e.breakdown),we(e.billing_address),Me(e.expenses),De(e.transportation),Re(e.departure),Le(e.arrival),at(e.id);else{var t=new Date;B(T),K(A),ce(t.getDate()),ge(""),be(10),Oe(10),we(1),Me(0),De(""),Re(""),Le(""),at(0)}x(!0)};return r.a.createElement("form",{className:e.root},r.a.createElement(me.a,null),r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement($e,null),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"),r.a.createElement(ye,null))),r.a.createElement(re.a,{open:b,autoHideDuration:6e3,onClose:ct},r.a.createElement(ne.a,{severity:c,variant:"filled",onClose:ct},m)),r.a.createElement(Xe.a,{open:j,onClose:function(){return x(!1)}},r.a.createElement(Ze.a,{className:e.dialogTitle},"\u4ea4\u901a\u8cbb\u767b\u9332"),r.a.createElement(et.a,null,r.a.createElement(ut.a,{container:!0,spacing:2},r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u5e74",fullWidth:!0,required:!0,margin:"dense",defaultValue:q,disabled:!0})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u6708",fullWidth:!0,required:!0,margin:"dense",defaultValue:$,disabled:!0})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(de.a,{required:!0,fullWidth:!0,margin:"dense"},r.a.createElement(se.a,{htmlFor:"select-date"},"\u65e5"),r.a.createElement(ae.a,{value:te,inputProps:{id:"select-date"},onChange:function(e){return ce(Number(e.target.value))}},r.a.createElement((function(){for(var e=[],t=new Date(T,A,1),a=new Date(t.getFullYear(),t.getMonth(),1);;){var n=a.getDate();if(e.push(r.a.createElement("option",{key:n},n)),a.setDate(n+1),t.getMonth()!==a.getMonth())break}return e}),null)))),r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(I.a,{autoFocus:!0,label:"\u5ba2\u5148",fullWidth:!0,required:!0,margin:"dense",defaultValue:Ee,onChange:function(e){return ge(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(de.a,{required:!0,fullWidth:!0,margin:"dense"},r.a.createElement(se.a,{htmlFor:"select-classification"},"\u4ed5\u8a33"),r.a.createElement(ae.a,{value:he,inputProps:{id:"select-classification"},onChange:function(e){return be(Number(e.target.value))}},r.a.createElement("option",{value:10},"\u901a\u52e4"),r.a.createElement("option",{value:11},"\u51fa\u5f35")))),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(de.a,{required:!0,fullWidth:!0,margin:"dense"},r.a.createElement(se.a,{htmlFor:"select-breakdown"},"\u5185\u8a33"),r.a.createElement(ae.a,{value:_e,inputProps:{id:"select-breakdown"},onChange:function(e){return Oe(Number(e.target.value))}},r.a.createElement("option",{value:10},"\u5b9a\u671f"),r.a.createElement("option",{value:11},"\u5207\u7b26"),r.a.createElement("option",{value:12},"IC\u30ab\u30fc\u30c9"),r.a.createElement("option",{value:13},"\u73fe\u91d1")))),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(de.a,{required:!0,fullWidth:!0,margin:"dense"},r.a.createElement(se.a,{htmlFor:"select-billing-address"},"\u8acb\u6c42\u5148"),r.a.createElement(ae.a,{value:Ce,inputProps:{id:"select-billing-address"},onChange:function(e){return we(Number(e.target.value))}},r.a.createElement("option",{value:1},"\u793e\u5185"),r.a.createElement("option",{value:2},"\u793e\u5916")))),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u91d1\u984d",fullWidth:!0,required:!0,margin:"dense",defaultValue:Ne,onChange:function(e){return function(e){/^([1-9]\d*|0)$/.test(e.target.value)?Me(Number(e.target.value)):e.target.value=""}(e)}})),r.a.createElement(ut.a,{item:!0,xs:8},r.a.createElement(I.a,{label:"\u4ea4\u901a\u6a5f\u95a2",fullWidth:!0,required:!0,margin:"dense",defaultValue:Fe,onChange:function(e){return De(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u51fa\u767a\u7d4c\u8def",fullWidth:!0,required:!0,margin:"dense",defaultValue:Be,onChange:function(e){return Re(e.target.value)}})),r.a.createElement(ut.a,{item:!0,xs:4},r.a.createElement(I.a,{label:"\u5230\u7740\u7d4c\u8def",fullWidth:!0,required:!0,margin:"dense",defaultValue:Ge,onChange:function(e){return Le(e.target.value)}})))),r.a.createElement(tt.a,null,r.a.createElement(u.a,{color:"primary",onClick:function(){return x(!1)}},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.a.createElement(u.a,{color:"primary",onClick:function(){return Ee?Ne?Fe?Be?Ge?void(0!==Qe?Q.a.put("".concat("https://baykraft.herokuapp.com/rest","/expenses/").concat(Qe),{year:T,month:A,day:te,customer:Ee,classification:he,breakdown:_e,billing_address:Ce,expenses:Ne,transportation:Fe,departure:Be,arrival:Ge},{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.record,a=Ue.find((function(e){return e.id===Qe}));a.id=t.tran_ex_id,a.day=t.day,a.customer=t.customer,a.classification=t.classification,a.breakdown=t.breakdown,a.billing_address=t.billing_address,a.expenses=t.expenses,a.transportation=t.transportation,a.departure=t.departure,a.arrival=t.arrival,Ie(Ue.slice()),x(!1),l("success"),p("\u4ea4\u901a\u8cbb\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),_(!0)})).catch((function(e){l("error"),p(e.message),_(!0)})):Q.a.post("".concat("https://baykraft.herokuapp.com/rest","/expenses/").concat(q,"/").concat($,"/").concat(te),{customer:Ee,classification:he,breakdown:_e,billing_address:Ce,expenses:Ne,transportation:Fe,departure:Be,arrival:Ge},{params:{token:R.getAccessToken()}}).then((function(e){var t=e.data.record;Ue.push({id:t.tran_ex_id,day:t.day,customer:t.customer,classification:t.classification,breakdown:t.breakdown,billing_address:t.billing_address,expenses:t.expenses,transportation:t.transportation,departure:t.departure,arrival:t.arrival}),Ie(Ue.slice()),x(!1),l("success"),p("\u4ea4\u901a\u8cbb\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),_(!0)})).catch((function(e){l("error"),p(e.message),_(!0)}))):(l("error"),p("\u5230\u7740\u7d4c\u8def\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void _(!0)):(l("error"),p("\u51fa\u767a\u7d4c\u8def\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void _(!0)):(l("error"),p("\u4ea4\u901a\u6a5f\u95a2\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void _(!0)):(l("error"),p("\u91d1\u984d\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void _(!0)):(l("error"),p("\u5ba2\u5148\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),void _(!0))}},"\u767b\u9332"))),r.a.createElement(v.a,{maxWidth:"lg",className:e.container},r.a.createElement(d.a,{className:e.tableToolbar},r.a.createElement(E.a,{variant:"h5",className:e.title},"\u7d4c\u8cbb\u8a18\u9332"),r.a.createElement(I.a,{required:!0,label:"\u5e74",margin:"normal",defaultValue:T,onChange:function(e){return S(Number(e.target.value))}}),r.a.createElement(de.a,{required:!0,margin:"normal"},r.a.createElement(se.a,{htmlFor:"select-month"},"\u6708"),r.a.createElement(ae.a,{value:A,inputProps:{id:"select-month"},onChange:function(e){return F(e.target.value)}},r.a.createElement(nt,null)))),r.a.createElement(Y.a,{component:k.a,className:e.tableContainer},r.a.createElement(d.a,null,r.a.createElement(E.a,{variant:"h6",className:e.title},"\u4ea4\u901a\u8cbb"),r.a.createElement(ue.a,{title:"\u8ffd\u52a0"},r.a.createElement(g.a,{onClick:function(){return lt(null)}},r.a.createElement(mt.a,null)))),r.a.createElement(V.a,{size:"small",className:e.table,"aria-label":"expenses"},r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{align:"center"},"\u65e5\u4ed8"),r.a.createElement(L.a,{align:"center"},"\u5ba2\u5148"),r.a.createElement(L.a,{align:"left"},"\u4ed5\u8a33"),r.a.createElement(L.a,{align:"left"},"\u5185\u8a33"),r.a.createElement(L.a,{align:"right"},"\u91d1\u984d"),r.a.createElement(L.a,{align:"left"},"\u8acb\u6c42\u5148"),r.a.createElement(L.a,{align:"left"},"\u4ea4\u901a\u6a5f\u95a2"),r.a.createElement(L.a,{align:"left"},"\u51fa\u767a\u7d4c\u8def"),r.a.createElement(L.a,{align:"left"},"\u5230\u7740\u7d4c\u8def"),r.a.createElement(L.a,{align:"center"},"\u64cd\u4f5c"))),r.a.createElement(G.a,null,Ue.map((function(e){return r.a.createElement(U.a,{key:e.id},r.a.createElement(L.a,{align:"center"},r.a.createElement("span",null,e.day)),r.a.createElement(L.a,{align:"center"},r.a.createElement("span",null,e.customer)),r.a.createElement(L.a,{align:"left"},r.a.createElement("span",null,kt[e.classification])),r.a.createElement(L.a,{align:"left"},r.a.createElement("span",null,_t[e.breakdown])),r.a.createElement(L.a,{align:"right"},e.expenses),r.a.createElement(L.a,{align:"left"},yt[e.billing_address]),r.a.createElement(L.a,{align:"left"},e.transportation),r.a.createElement(L.a,{align:"left"},e.departure),r.a.createElement(L.a,{align:"left"},e.arrival),r.a.createElement(L.a,{align:"center"},r.a.createElement(g.a,{"aria-label":"edit",size:"small",onClick:function(){return lt(e)}},r.a.createElement(Z.a,null)),r.a.createElement(g.a,{"aria-label":"delete",size:"small",onClick:function(){return function(e){Q.a.delete("".concat("https://baykraft.herokuapp.com/rest","/expenses/").concat(e.id),{params:{token:R.getAccessToken()}}).then((function(){delete Ue[Ue.indexOf(e)],Ie(Ue.slice()),l("success"),p("\u524a\u9664\u3057\u307e\u3057\u305f\u3002"),_(!0)})).catch((function(e){l("error"),p(e.message),_(!0)}))}(e)}},r.a.createElement(oe.a,null))))}))))),r.a.createElement(Y.a,{component:k.a,className:e.tableContainer},r.a.createElement(d.a,null,r.a.createElement(E.a,{variant:"h6",className:e.title},"\u7d4c\u8cbb"),r.a.createElement(ue.a,{title:"\u8ffd\u52a0"},r.a.createElement(g.a,null,r.a.createElement(mt.a,null)))),r.a.createElement(V.a,{size:"small",className:e.table,"aria-label":"expenses"},r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{align:"center"},"\u65e5\u4ed8"),r.a.createElement(L.a,{align:"center"},"\u5ba2\u5148"),r.a.createElement(L.a,{align:"center"},"\u91d1\u984d"),r.a.createElement(L.a,{align:"center"},"\u8acb\u6c42\u5148"),r.a.createElement(L.a,{align:"center"},"\u9818\u53ce\u66f8"),r.a.createElement(L.a,{align:"center"},"\u8cfc\u5165\u7269\u54c1"),r.a.createElement(L.a,{align:"center"},"\u64cd\u4f5c")))))))}var jt=a(202),xt=a.n(jt),Ct=Object(m.a)((function(e){return{root:{flexGrow:1,"& .MuiTypography-h5":{fontWeight:600},"& .MuiTypography-h6":{fontWeight:600}},title:{flexGrow:1},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},icon:{width:32,height:32,marginRight:e.spacing(2)}}}));function wt(){var e=Ct(),t=Object(n.useState)("error"),a=Object(W.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(W.a)(i,2),m=o[0],g=o[1],p=Object(n.useState)(!1),f=Object(W.a)(p,2),h=f[0],b=f[1],k=function(e,t){"clickaway"!==t&&b(!1)};return r.a.createElement("div",null,r.a.createElement(s.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement($e,null),r.a.createElement(E.a,{variant:"h6",className:e.title},"\u682a\u5f0f\u4f1a\u793e\u30d9\u30a4\u30af\u30e9\u30d5\u30c8"),r.a.createElement(ye,null))),r.a.createElement(re.a,{open:h,autoHideDuration:6e3,onClose:k},r.a.createElement(ne.a,{severity:c,variant:"filled",onClose:k},m)),r.a.createElement(v.a,{maxWidth:"md",className:e.container},r.a.createElement(u.a,{color:"inherit",onClick:function(){var e;e="\u52b4\u4f7f\u5354\u5b9a\u66f8(\u7b2c1\u7248).pdf",Q.a.get("".concat("https://baykraft.herokuapp.com/rest","/docs/").concat(e),{params:{token:R.getAccessToken()},responseType:"blob"}).then((function(t){var a=new Blob([t.data],{type:t.data.type});Object(pe.saveAs)(a,e)})).catch((function(e){l("error"),g(e.message),b(!0)}))}},r.a.createElement("img",{src:xt.a,className:e.icon,alt:"\u52b4\u4f7f\u5354\u5b9a\u66f8(\u7b2c1\u7248).pdf"}),"\u52b4\u4f7f\u5354\u5b9a\u66f8(\u7b2c1\u7248).pdf")))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement(i.a,null,r.a.createElement(o.Switch,null,r.a.createElement(o.Route,{exact:!0,path:"/"},r.a.createElement(M,null)),r.a.createElement(o.Route,{exact:!0,path:"/oauth"},r.a.createElement(bt,null)),r.a.createElement(P,{exact:!0,path:"/timerecord"},r.a.createElement(it,null)),r.a.createElement(P,{exact:!0,path:"/expense"},r.a.createElement(Ot,null)),r.a.createElement(P,{exact:!0,path:"/fixedtime"},r.a.createElement(ft,null)),r.a.createElement(P,{exact:!0,path:"/breaktime"},r.a.createElement(gt,null)),r.a.createElement(P,{exact:!0,path:"/documents"},r.a.createElement(wt,null)),r.a.createElement(o.Route,{path:"*"},r.a.createElement(M,null))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[219,1,2]]]);
//# sourceMappingURL=main.73d9c258.chunk.js.map